<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=https://btctranscripts.com/wasabi/research-club/knapsack-mixing/><title>Knapsack Mixing | ₿itcoin Transcripts
</title><link href=https://btctranscripts.com/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=https://btctranscripts.com/css/ace.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://btctranscripts.com/images/btctranscripts.png"><meta name=twitter:title content="Felix Maurer - Knapsack Mixing"><meta name=twitter:description content="In this video, the participants of the Wasabi Research Club discuss the concept of knapsack mixing and its potential for privacy in Bitcoin transactions. They explain the process of merging inputs and outputs to create sub-transactions, and how different versions of the knapsack mixing algorithm have improved over time. However, they acknowledge that perfect anonymity is difficult to achieve and there are computational complexities involved. They also discuss the challenges of handling transaction fees and the difficulty of implementing efficient algorithms for finding all possible mappings and partitions. Overall, the speaker believes that knapsack mixing has the potential for anonymity but more research and testing is needed.
Furthermore, they discuss various aspects of knapsack mixing, including the potential benefits and limitations. They explore the possibility of combining multiple inputs in a transaction and its impact on privacy. The necessity of calculating mappings in Wasabi is also debated, with the suggestion that it could help identify bottlenecks in blockchain analysis companies. The participants discuss the idea of setting a lower bound for the number of participants and outputs in a transaction to ensure computational privacy. Additionally, they consider the possibility of allowing non-mixing participants to participate in Wasabi transactions for stronger privacy. The conversation then shifts to the concept of users participating in knapsack-type coin joints for spending purposes only, which could be offered as a separate service in Wasabi. They also touch upon topics like blockchain with lists of inputs and outputs, determining conjoined transactions, RBF in transactions, and feedback for improving future episodes of the club. Overall, the participants engage in an informative discussion on knapsack mixing and its implications."><script async src=https://visits.bitcoindevs.xyz/script.js data-website-id=06384ada-7f1c-44c2-a6d9-d830fb23e122></script></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=/>₿itcoin Transcripts</a></div><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/es>es</a></li><li class=nav-item><a class=nav-link href=/pt>pt</a></li><li class=nav-item><a class=nav-link href=/zh>zh</a></li><li class=nav-item><a class=nav-link href=https://github.com/bitcointranscripts/bitcointranscripts target=_blank><i class='fab fa-github'></i></a></li></ul></div></div></nav><div class="alert alert-warning fade show sticky-banner" role=alert><strong><a href=https://review.btctranscripts.com target=_blank data-umami-event=click-banner>Get paid to review technical Bitcoin transcripts
</a></strong><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder='Search (press "/")'></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/adopting-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/><h6>Adopting Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/adopting-bitcoin/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/2021/><h6>Adopting Bitcoin 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/adopting-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/2022/><h6>Adopting Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/advancing-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/><h6>Advancing Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/advancing-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2019/><h6>Advancing Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2020/><h6>Advancing Bitcoin 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2022/><h6>Advancing Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2023/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2023/><h6>Advancing Bitcoin 2023</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/andreas-antonopoulos/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/andreas-antonopoulos/><h6>Andreas Antonopoulos</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/austin-bitcoin-developers/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/austin-bitcoin-developers/><h6>Austin Bitcoin Developers</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/><h6>Baltic Honeybadger</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/baltic-honeybadger/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2018/><h6>Baltic Honeybadger 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2019/><h6>Baltic Honeybadger 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bit-block-boom/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/><h6>Bit Block Boom</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bit-block-boom/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/2019/><h6>Bit Block Boom 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-core-dev-tech/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/><h6>Bitcoin Core Dev Tech</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoin-core-dev-tech/2015-02/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2015-02/><h6>Bitcoin Core Dev Tech 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2017-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2017-09/><h6>Bitcoin Core Dev Tech 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2018-03/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2018-03/><h6>Bitcoin Core Dev Tech 2018 (Mar)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2018-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2018-10/><h6>Bitcoin Core Dev Tech 2018 (Oct)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2019-06/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2019-06/><h6>Bitcoin Core Dev Tech 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2022-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2022-10/><h6>Bitcoin Core Dev Tech 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2023-04/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2023-04/><h6>Bitcoin Core Dev Tech 2023 (Apr)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2023-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2023-09/><h6>Bitcoin Core Dev Tech 2023 (Sept)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/><h6>Bitcoin Design</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoin-design/learning-bitcoin-and-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/learning-bitcoin-and-design/><h6>Learning Bitcoin and Design</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-design/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/misc/><h6>Miscellaneous</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-design/ux-research/ class="nav-item my-1"><a class="nav-link p-0" href=/bitcoin-design/ux-research/><h6>UX Research</h6></a></li></ul></li><li data-nav-id=/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/><h6>Bitcoin Edge Dev++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/edgedevplusplus/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2017/><h6>Bitcoin Edge Dev++ 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/edgedevplusplus/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2018/><h6>Bitcoin Edge Dev++ 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/edgedevplusplus/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2019/><h6>Bitcoin Edge Dev++ 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-explained/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-explained/><h6>Bitcoin Explained</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-magazine/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-magazine/><h6>Bitcoin Magazine</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinops/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinops/><h6>Bitcoin Optech</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-review-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-review-podcast/><h6>Bitcoin Review Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/><h6>Bitcoin++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoinplusplus/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/2022/><h6>Bitcoin++ 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/layer-2/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/layer-2/><h6>Layer 2</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/onchain-privacy/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/onchain-privacy/><h6>Onchain Privacy</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoinology/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinology/><h6>Bitcoinology</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts/><h6>Bitcointranscripts</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/><h6>Blockchain Protocol Analysis Security Eng</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2017/><h6>Blockchain Protocol Analysis Security Engineering 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2018/><h6>Blockchain Protocol Analysis Security Engineering 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/blockstream-webinars/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockstream-webinars/><h6>Blockstream Webinars</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/boltathon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/boltathon/><h6>Boltathon</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/><h6>Breaking Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/breaking-bitcoin/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2017/><h6>Breaking Bitcoin 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2019/><h6>Breaking Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/building-on-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/><h6>Building On Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/building-on-bitcoin/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/2018/><h6>Building On Bitcoin 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/c-lightning/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/c-lightning/><h6>c-lightning</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/><h6>Chaincode Labs</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/chaincode-labs/chaincode-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-podcast/><h6>Chaincode Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/chaincode-residency/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-residency/><h6>Chaincode Residency</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/chicago-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chicago-bitdevs/><h6>Chicago Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coindesk-consensus-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coindesk-consensus-2016/><h6>Coindesk Consensus</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coordination-of-decentralized-finance-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/><h6>Coordination of Decentralized Finance</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/coordination-of-decentralized-finance-workshop/2020-stanford/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/2020-stanford/><h6>2020 Stanford</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cppcon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/><h6>CPPcon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cppcon/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2017/><h6>CPPcon 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/cppcon/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2020/><h6>CPPcon 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cryptoeconomic-systems/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/><h6>Cryptoeconomic Systems</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cryptoeconomic-systems/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/2019/><h6>Cryptoeconomic Systems 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/dallas-bitcoin-symposium/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/dallas-bitcoin-symposium/><h6>Dallas Bitcoin Symposium</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/decentralized-financial-architecture-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/decentralized-financial-architecture-workshop/><h6>Decentralized Financial Architecture Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-developers-miners-meeting-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-developers-miners-meeting-2016/><h6>Developers-Miners Meeting</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/greg-maxwell/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/greg-maxwell/><h6>Greg Maxwell</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/grincon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/><h6>Grincon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/grincon/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/2019/><h6>Grincon 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/honey-badger-diaries/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/honey-badger-diaries/><h6>Honey Badger Diaries</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/iacr/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/iacr/><h6>IACR Crypto</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/la-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/la-bitdevs/><h6>LA Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/layer2-summit/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/><h6>Layer2 Summit</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/layer2-summit/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/2018/><h6>Layer2 Summit 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lets-talk-bitcoin-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lets-talk-bitcoin-podcast/><h6>Lets Talk Bitcoin Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/><h6>Lightning Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/lightning-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/2019/><h6>Lightning Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lightning-hack-day/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-hack-day/><h6>Lightning Hack Day</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-specification/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-specification/><h6>Lightning Specification</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/london-bitcoin-devs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/london-bitcoin-devs/><h6>London Bitcoin Devs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/magicalcryptoconference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/><h6>Magicalcryptoconference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/magicalcryptoconference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/2019/><h6>Magicalcryptoconference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/misc/><h6>Misc</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/><h6>MIT Bitcoin Expo</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2015/><h6>Mit Bitcoin Expo 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2016/><h6>Mit Bitcoin Expo 2016</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2017/><h6>MIT Bitcoin Expo 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2018/><h6>Mit Bitcoin Expo 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2019/><h6>Mit Bitcoin Expo 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2020/><h6>Mit Bitcoin Expo 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2021/><h6>Mit Bitcoin Expo 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2022/><h6>MIT Bitcoin Expo 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/munich-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/munich-meetup/><h6>Munich Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/noded-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/noded-podcast/><h6>Noded Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/><h6>Realworldcrypto</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/realworldcrypto/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2018/><h6>Realworldcrypto 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2021/><h6>Realworldcrypto 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/rebooting-web-of-trust/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/><h6>Rebooting Web Of Trust</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/rebooting-web-of-trust/2019-prague/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/2019-prague/><h6>2019 Prague</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/ruben-somsen/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/ruben-somsen/><h6>Ruben Somsen</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/satoshi-roundtable/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/><h6>Satoshi Roundtable</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/satoshi-roundtable/sr-004/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/sr-004/><h6>Sr 004</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/scalingbitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/><h6>Scaling Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/hong-kong-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/hong-kong-2015/><h6>Hong Kong (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/milan-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/milan-2016/><h6>Milan (2016)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/montreal-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/montreal-2015/><h6>Montreal (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/stanford-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/stanford-2017/><h6>Stanford (2017)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/tel-aviv-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tel-aviv-2019/><h6>Tel Aviv (2019)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/tokyo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tokyo-2018/><h6>Tokyo (2018)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/sf-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sf-bitcoin-meetup/><h6>SF Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/simons-institute/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/simons-institute/><h6>Simons Institute</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/><h6>Stanford Blockchain</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/stanford-blockchain-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2019/><h6>Stanford Blockchain Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2020/><h6>Stanford Blockchain Conference 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/stephan-livera-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stephan-livera-podcast/><h6>Stephan Livera Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/sydney-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sydney-bitcoin-meetup/><h6>Sydney Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tabconf/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/><h6>TABConf</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/tabconf/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/2021/><h6>TABConf 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tabconf/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/2022/><h6>TABConf 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/texas-bitcoin-conference-2014/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/texas-bitcoin-conference-2014/><h6>Texas Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tftc-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tftc-podcast/><h6>TFTC Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/verifiable-delay-functions/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/><h6>Verifiable Delay Functions</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/verifiable-delay-functions/vdf-day-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/vdf-day-2019/><h6>Vdf Day 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/vr-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/vr-bitcoin/><h6>VR Bitcoin</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/w3-blockchain-workshop-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/w3-blockchain-workshop-2016/><h6>W3 Blockchain Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/wasabi/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/wasabi/><h6>Wasabi Wallet</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/wasabi/research-club/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/wasabi/research-club/><h6>Wasabi Research Club</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/wasabi/podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/wasabi/podcast/><h6>Wasabikas Bitcoin Privacy Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/what-bitcoin-did-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/what-bitcoin-did-podcast/><h6>What Bitcoin Did Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky"><div class=docs-toc><nav id=TableOfContents><ul><li><ul><li><a href=#anonymous-coin-join-transactions-with-arbitrary-values-2017>Anonymous Coin Join Transactions with Arbitrary Values (2017)</a></li><li><a href=#the-privacy-problem-with-bitcoin>The privacy problem with Bitcoin</a></li><li><a href=#idea-1---joining-transactions>Idea #1 - Joining Transactions</a></li><li><a href=#formal-definitions>Formal Definitions</a></li><li><a href=#in-simpler-terms>In simpler terms</a></li><li><a href=#anonymity-in-this-framework>Anonymity in this framework</a></li><li><a href=#evaluation-of-joined-transactions>Evaluation of Joined Transactions</a></li><li><a href=#idea-2---knapsack-mixing>Idea #2 - Knapsack Mixing</a></li><li><a href=#concluding-thoughts>Concluding Thoughts</a></li></ul></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><a href=/>Home</a>
&lt; <a href=/wasabi/>Wasabi Wallet
</a>&lt; <a href=/wasabi/research-club/>Wasabi Research Club
</a>&lt; Knapsack Mixing<h1>Knapsack Mixing</h1><p>Speakers:
<a href=/speakers/felix-maurer>Felix Maurer</a></p><p><i>Date: January 6, 2020</i></p><p><i>Transcript By: kouloumos via tstbtc v1.0.0 --needs-review</i></p><p>Tags:
<a href=/tags/research>Research</a></p><p>Category:
<a href=/categories/club>Club</a></p><p>Media:
<a href='https://www.youtube.com/watch?v=XDCQI7hrB58'>https://www.youtube.com/watch?v=XDCQI7hrB58</a></p><div class="alert alert-warning"><div class=ai-generated><i class='fas fa-robot'></i>
<span>AI-Generated Transcript</span></div><span>Review this transcript and earn sats. </span><a href=https://review.btctranscripts.com target=_blank data-umami-event=click-transcript-banner>Learn More ></a></div><p>Speaker 0: 00:00:00</p><p>So we&rsquo;re talking about knapsack coin joins today.
I&rsquo;m just going to run through this slide and then hopefully Felix will jump in to clarify questions as they come or if I make a mistake.</p><h2 id=anonymous-coin-join-transactions-with-arbitrary-values-2017>Anonymous Coin Join Transactions with Arbitrary Values (2017)</h2><p>Speaker 0: 00:00:15</p><p>So yeah, this is the paper, Anonymous Coin Trade Transaction with Arbitrary Values.
We have one of the authors with us.
The PowerPoint, this PowerPoint will be made available if anyone wants it.
Very straightforward.</p><h2 id=the-privacy-problem-with-bitcoin>The privacy problem with Bitcoin</h2><p>Speaker 0: 00:00:31</p><p>So what&rsquo;s the problem in Bitcoin?
Transactions are public.
Transactions point to previous transactions in a sort of directed acyclic graph and transactions can leak future spending.
That&rsquo;s the problem.
We&rsquo;re trying to obfuscate the transaction graph.</p><h2 id=idea-1---joining-transactions>Idea #1 - Joining Transactions</h2><p>Speaker 0: 00:00:48</p><p>So a simple idea from 2013 or even earlier is just joining transactions.
So suppose you have two transactions on the left here.
We have two transactions with two inputs and two outputs.
One output is likely sending money somewhere and another output is change.
What we could simply do is we could take transactions and we could just essentially collapse them together.
So there&rsquo;s nothing in Bitcoin that bars us from doing this currently at the moment.
So how does this look like?
On our left we have two unique transactions by two individuals and I&rsquo;ve highlighted in red the output that likely represents sending funds to a third party or to someone else.
And on the right, what we do is we just take those inputs and outputs and we merge them into a single transaction.
Now when we look at this from the outside we have to ask ourselves is it possible to unravel the previous transaction that we, the two sub transactions we merged together.
So we can start by taking an output like this one here, valued at 50, and we could try to find inputs that exactly match the value of the sum of the outputs.
So in this case, we try these two and it turns out there&rsquo;s no way we could come up with an output on the right that would match the two inputs on the left.
And we try again and we find that yes, actually we can break this transaction down into two pieces once again because we see that the bottom two inputs and the bottom two outputs equal exactly 64 and the top two inputs and two outputs exactly equal 33.
We&rsquo;re excluding transaction fees in this model for simplicity.
And so essentially what happens is we take this single transaction and we split it into two once again and we&rsquo;re left with the same privacy that we would have had before we did any of this joining.
So this isn&rsquo;t very good.
So most of the time we&rsquo;ll be able to unravel these transactions.</p><h2 id=formal-definitions>Formal Definitions</h2><p>Speaker 0: 00:03:14</p><p>So If we look at the work done in this paper, what they&rsquo;ve done is they&rsquo;ve formalized some basic ideas.
So transactions have inputs, outputs, and values.
Inputs, we have the input set, the output set, and then we have coins, which belong either to the inputs or the outputs.
And then a very basic rule which is that the sum of the inputs must equal the sum of the outputs for any subset that we create.
So a coin-join transaction consists of sub-transactions, and there must be at least one way of partitioning all inputs and outputs so that each subset of inputs has exactly one corresponding subset of outputs with which it forms a sub-transaction.
And essentially what this means is that if we take a transaction, we must be able to cut it up in such a way, just like we did before, where a subset of the inputs matches some subset of the outputs in terms of value.
And we call this a mapping as it maps inputs to outputs.
So we have a set of all partitions denoted phi of a set, and then the set of all inputs, set of all outputs, and then set of all mappings is big M.
And essentially the set of all mappings below here is just the set of all, I think it&rsquo;s bijective mappings of inputs to outputs of the superset, such that the sum of the inputs equals the sum of the outputs.
So again, this is just saying that we can take a transaction and create a list of all possible ways we could cut it up, essentially figuring out different ways we could get sub-transactions, and the entire list of all ways we could cut it up is denoted in M.
I hope I haven&rsquo;t lost anyone so far, but good idea to maybe pause and ask, have I lost anyone so far?</p><p>Speaker 1: 00:05:12</p><p>No, I think it&rsquo;s a great introduction.
I just want to say for some administration that since Felix appeared in this conversation, welcome Felix, he is one of the authors of the paper and I think after your presentation we could move on to pick his brain and in order to not waste his time too much and then after that we can move on to other people&rsquo;s presentations and ideas and discussions about that.</p><p>Speaker 0: 00:05:48</p><p>Yeah so this is pretty much almost over I think we&rsquo;re probably two thirds of the way through so we&rsquo;ll be able to ask Felix questions directly.</p><h2 id=in-simpler-terms>In simpler terms</h2><p>Speaker 0: 00:06:00</p><p>So yeah now moving on to results so yeah in simpler terms we want to be able to break down transactions into sub-transactions, a combination of inputs and outputs.
In the paper, they clarify between derived and non-derived sub-transactions.
What that means is that a non-derived sub-transaction is a sub-transaction that isn&rsquo;t composed of smaller sub-transactions inside of it, and we&rsquo;re only concerned with non-derived sub-transactions for simplicity.</p><h2 id=anonymity-in-this-framework>Anonymity in this framework</h2><p>Speaker 0: 00:06:35</p><p>So the way that we look at anonymity or privacy in this model is we essentially take a transaction which has all these inputs and outputs And it has all these mappings, all the possible ways we could cut up the transaction.
And we essentially say that a specific coin on the left-hand side and any other coin on the right-hand side or on the left-hand side is linked to that coin in a probabilistic way depending on how many mappings, of the total mappings there are, how many of them include the two coins being in the same sub-transaction.
So I think there&rsquo;s probably an easier way to think about this.
Here it is formalized in the paper, but intuitively it makes a lot of sense.
And I think we&rsquo;ll see an example of it in just the next slide.
But that&rsquo;s the idea, it&rsquo;s a probabilistic framework.
So in this case here, If we go back and recreate what we did, and we split these up into two sub-transactions, we would say that, for example, Output 3 is directly linked to input 3 with 100% probability, because there&rsquo;s only one way to partition this coin join.
And output 3 appears with input 3 100% of the time.
And we&rsquo;ll see later how that can be done differently.</p><h2 id=evaluation-of-joined-transactions>Evaluation of Joined Transactions</h2><p>Speaker 0: 00:08:06</p><p>So in the paper, they essentially create a bunch of random transactions and then essentially purposefully combine them together, and then observe the time it takes to recreate the sub-transactions from the coupled transactions.
So here we see that in the orange, if you have five sub-transactions with four inputs each, that takes about a second for a computer to be able to unravel that coin joining to its relevant sub-transactions.
And then we notice here that the number of non-derived mappings isn&rsquo;t very high, even as there are as many as four or five sub-transactions because, like we did in the first example, we can typically unravel coin joints and have very little overlap in terms of other ways we could map inputs and outputs.
So in here we see that only with 6 sub-transactions and 4 inputs per sub-transaction do we see more than just a few non-derived mappings.</p><h2 id=idea-2---knapsack-mixing>Idea #2 - Knapsack Mixing</h2><p>Speaker 0: 00:09:40</p><p>So there&rsquo;s a solution to this problem because right now what we see is that it doesn&rsquo;t take a lot of time to unpack these coin joints and when you do there are very few non-derived mappings which means there&rsquo;s very little ambiguity in terms of what&rsquo;s linked.
So could we increase this?
Well, you know, here&rsquo;s knapsack mixing.
The idea is how to optimize filling a knapsack with various things of different weights.
In this case, we&rsquo;re trying to optimize the way to have outputs that they fill given inputs.
So the algorithm is pretty simple.
The idea is to compare the two output sets and to essentially try to break down one of the outputs so that one of the values of the output is the difference between the two sets.
So in this case, the number 31 is the difference between the green and the orange.
And so here we&rsquo;ve done it with, you can see that we&rsquo;ve split up the 50 into 31 and 19, and on the right we&rsquo;ve recombined them to make a single coin joint transaction and now when we try to figure out the sub transactions we actually get two sub transactions.
We get this one here which connects the two on the left with the three on the right, but we also get this sub-transaction here.
And so the result is that if you asked, for example, is O1 linked with I3, the answer is that there&rsquo;s a 50-50 chance that O1 and I3 are linked because of the two sub-transactions that we have, in half of them O1 and I3 are not linked and the other half they are.
To have a probability of one to be matched with another input or another output?</p><p>Speaker 2: 00:12:52</p><p>Yeah, right.
So the left graph shows the number of pairs of inputs and outputs that are linked with probability one.
And the right one shows the number of input-input pairs that are linked with a probability of one, always depending on which Knapsack mixing algorithm you&rsquo;ve used.
So I think in the paper, I had two different versions of the Knapsack mixing algorithm, one which I called input mixing and one output mixing.
And I think I even hinted at a third one that I came up with later in the time when I was writing the paper.
So this one even improved over what you see in the graph so far.</p><p>Speaker 0: 00:13:40</p><p>Okay, well very cool.
So I think the important thing to note here is that we still have a problem where some inputs are connected with other inputs and some inputs are connected with other outputs.
So we don&rsquo;t have a perfect&mldr;
We have some coins that are achieving no additional anonymity except for the computational complexity that it takes to unravel the coin join.
So that&rsquo;s pretty much the end here.
There&rsquo;s some anonymity here in the computational complexity that&rsquo;s required to figure out how to break down these coin joins, especially if we start talking about 10 participants, 30 participants, 50 participants.
There&rsquo;s still a link between inputs and outputs.
The entire sub-transaction partition must be known in order to apply the algorithm.
This is the most important trade-off I think, is that currently from what I&rsquo;ve read it seems that this can&rsquo;t be done in a trustless way where someone isn&rsquo;t coordinating all the transactions.</p><p>Speaker 2: 00:14:53</p><p>Yeah, and that&rsquo;s exactly the third algorithm I came up with.
I will have to read my own work again to understand what I did because it&rsquo;s, I think, two years now that I was working on it.
But I had a third version of the algorithm which was working without knowing all the outputs.
So for each, everybody needs to know all the inputs, but each participant only needs to know his own outputs.</p><h2 id=concluding-thoughts>Concluding Thoughts</h2><p>Speaker 0: 00:15:22</p><p>Okay, so would it be, everybody just needs to know all the inputs.
Okay, so interesting.
So upper bound anonymity, it&rsquo;s like, if we look at this way of looking at transaction anonymity and we apply it to Zerolink, we see that Zerolink is like a perfect knapsack coin join.
So that sort of provides us the upper bound anonymity, which is essentially the number of total participants that are doing this knapsack coin join.</p><p>Speaker 1: 00:16:01</p><p>I don&rsquo;t agree with a lot of things here, and I think this is your last slide.
So can we come back to it later and discuss everything, every concluding thoughts, one by one?</p><p>Speaker 0: 00:16:16</p><p>Sure, sure.
So yeah, I&rsquo;ll leave it to Felix, because that&rsquo;s pretty much it for introducing the paper.</p><p>Speaker 1: 00:16:28</p><p>Yeah, so thank you, Aviv.
It&rsquo;s a nice introduction to get everyone catch up with the paper and we can go into the details here and there.
I was thinking that if Felix appears, then we would start with some questions to Felix and then we would continue with the, if anyone has some small presentations then we would continue with those and then we would end up with discussions, questions, what did we not understood in the paper.
Although this could be bring here right now because Felix is still here.
So and we would finally discuss some things like if you have any ideas that came to your mind with this paper.
And then we would end with deciding on what should be the next paper on next week.
So, let&rsquo;s start with some more fun things.
Felix, I would like to know what was the story behind the Knapsack paper?
How did you come work on it?
And yeah, Can you tell us about it?</p><p>Speaker 2: 00:18:02</p><p>Yeah, of course.
Actually, it started as my master thesis.
So more or less, when the most of the content of the paper is also my master thesis, I omitted a bit of, yeah, more of the related work, which was also a big part of my thesis.
And some of the results have not been part of my thesis, but more or less the idea and the general, yeah, most of the work is basically my master thesis.
So after I finished the thesis, I wrote a paper based on it.
And I think the one interesting thing is also that the term Knapsack for this mixing is not my idea.
It was, I picked up the idea from two papers, which basically in one or two sentences describe that something like this could be done but did not really go into it.
So yeah, this is how I came up with this idea or why I started working on this idea.</p><p>Speaker 1: 00:19:18</p><p>Nice, and did you follow up on things, writing the paper or what did you move on to?</p><p>Speaker 2: 00:19:27</p><p>No, actually, after my thesis I started doing a PhD at the RWTH in Aachen but after after one year I realized that it&rsquo;s not the right environment for me so I moved on and I&rsquo;m now working at Fraunhofer Institute, which is not at all related to what I&rsquo;ve done before.
So unfortunately, since two years, I am not working on the topic at all anymore.</p><p>Speaker 1: 00:19:59</p><p>I see anyone has any general questions?
I have more more in topic questions now.</p><p>Speaker 3: 00:20:10</p><p>Hi, well I would like to know about the test, the validation of this hypothesis, if you have published the the source code for this paper?</p><p>Speaker 1: 00:20:28</p><p>That would be my question too.</p><p>Speaker 2: 00:20:31</p><p>Yes, actually I have.
I have published the code that I was used to produce the results of the paper.
I&rsquo;m not sure if it&rsquo;s linked anywhere, but it&rsquo;s a public repository on GitLab.
Let me paste the link for you.</p><p>Speaker 1: 00:20:54</p><p>Thank you.
It&rsquo;s great, thank you.
Most of the difficulties I encountered is the deciphering the pseudocode.</p><p>Speaker 2: 00:21:08</p><p>Yeah, no, all the, I was just looking into the code, everything&rsquo;s there.
It&rsquo;s written in Rust, I don&rsquo;t know if you have experience with Rust, but it should be readable for anybody who is used to imperative languages.
I think the Interesting part is in the main source folder, the distribution.rs file.
In there are the different mixing algorithms that I used.</p><p>Speaker 1: 00:21:46</p><p>Yeah, thank you.
Lucas here wrote code for it too, and actually I wrote code for it too.</p><p>Speaker 2: 00:21:54</p><p>Yeah, perfect.</p><p>Speaker 1: 00:21:57</p><p>So we can validate.
I have one last question that only you can answer is that on the paper at the end you wrote that however currently our output splitting algorithm requires knowledge of all sub-transactions.
Using it in a peer-to-peer network would likely leak information to all participants.
We are already researching a new output splitting algorithm that mitigates this problem.</p><p>Speaker 2: 00:22:31</p><p>Yes, this is exactly the third mixing algorithm that I developed at the end of writing the paper.
So it is not part of the paper anymore.
Unfortunately, it was finished shortly after the paper.
Let me see.
It&rsquo;s in the code.
It&rsquo;s this line.
Basically, the idea is that you broadcast to all participants all the inputs, but you can also do that in a fashion that you don&rsquo;t know which input belongs to which participant.
And then you can split your own outputs based on the all the inputs that you That you&rsquo;ve seen without telling anybody all the outputs</p><p>Speaker 3: 00:23:32</p><p>Yeah Sorry, where are you sharing the links?</p><p>Speaker 2: 00:23:36</p><p>In the Hangouts chat.</p><p>Speaker 1: 00:23:40</p><p>I saved them.</p><p>Speaker 3: 00:23:43</p><p>OK, thank you.</p><p>Speaker 1: 00:23:47</p><p>So that was all my questions that only Felix could answer.
Anyone has any questions to Felix?</p><p>Speaker 3: 00:24:01</p><p>Yeah, well,</p><p>Speaker 4: 00:24:05</p><p>okay.</p><p>Speaker 3: 00:24:07</p><p>Okay, I go again.
About the two things.
First, I was playing with this concept for a while and what I do is I sort the outputs descending by amount.
It&rsquo;s just a special case, right?
And I used two outputs, one is the payment, another is the change.
I realized that in this scheme, with this modification, well I don&rsquo;t know if it is with this modification only, but it creates for example 1.5 outputs for each original output.
For example, if I have a two participant coin join with four outputs, it creates six outputs.
If I have three participants with 2 outputs, I mean 6 outputs in total, it creates 9 outputs.
And that, I don&rsquo;t know if you have some comments about this, but I want to know how many participants are in that conjoin.
Is it that I&rsquo;m doing something wrong or it&rsquo;s just because I&rsquo;m sorting the outputs?
Or, well, I can answer my question just by coding a bit more, but I don&rsquo;t know if it&rsquo;s something that you can share with us about that.</p><p>Speaker 2: 00:25:57</p><p>No, that&rsquo;s actually an aspect that I didn&rsquo;t look into.
One other aspect that I did not look into is answering the question whether looking at multiple Knapsack mixed coin transactions would allow you to then again establish stronger links between inputs and outputs.
So this is something I would look into.</p><p>Speaker 3: 00:26:31</p><p>Ok, and my second question is about the phi, because in the paper you don&rsquo;t analyze the phi, you say basically that the phi adds some kind of noise, right?
Match the partitions by equality because the sum of the inputs and the sum of the outputs are not equal, so it will be a bit harder to find the sub-transactions.
To find the sub-transactions.
But, I was playing with this concept and I don&rsquo;t know if you have some idea about what&rsquo;s the best way to handle the fee because if the participants use the same fee rate that is for example pretty common in wasabi, right?</p><p>Speaker 4: 00:27:32</p><p>No. No?</p><p>Speaker 3: 00:27:33</p><p>For example in wasabi, right?</p><p>Speaker 4: 00:27:35</p><p>Then&mldr;
No. No?</p><p>Speaker 1: 00:27:37</p><p>I was actually trying to create transactions, this analysis on wasabi transactions, and it&rsquo;s really bad because we can go up to 1% plus mining fees and this unreliability makes it really interesting.</p><p>Speaker 4: 00:28:04</p><p>Well, yes, what I mean is that</p><p>Speaker 3: 00:28:08</p><p>if the coordinator, one coordinator that is coordinating this NAPCSAC transaction, right?
If everybody uses the same fee rate, even the inputs are bigger than the outputs, so they pay more fee.
If they pay proportional to their transactions, then that gives us a clue about, I mean</p><p>Speaker 4: 00:28:54</p><p>I can find the the</p><p>Speaker 3: 00:28:54</p><p>sub-transactions, the partitions and check if the fee paid matches the sum transaction transaction or not.
So it is a strong clue for the chain analyzer.
So do you have, Felix, any idea how to handle this?
What can we do?
Any idea?</p><p>Speaker 2: 00:29:23</p><p>Actually, no.
To analyze it, I implemented an algorithm which enumerates all the possible subsets of the inputs and outputs and tries to match them.
So yeah, I think, I don&rsquo;t know, I don&rsquo;t remember how I did it, but I sped it up with a Bloom filter.
And I realized that implementing a fast algorithm is, should probably intuitively be more difficult if the sums did not match.
So my thinking was that maybe it does not make the mathematical problem harder, but it makes it much harder to implement an efficient algorithm to actually find all the possible mappings or the possible partitions.</p><p>Speaker 3: 00:30:20</p><p>Yes, that&rsquo;s clear, because I&rsquo;m suffering with that problem.
It is really hard because you say</p><p>Speaker 4: 00:30:30</p><p>okay, it has to match, It is hard to</p><p>Speaker 3: 00:30:31</p><p>in a range, right?
It has to, okay, if it is more or less this value, so yes, it&rsquo;s a pain in the ass, but&mldr;
You cannot use a bloom filter, of course, so you have to keep it in memory, which is even worse.
But the question was about how can we make the participants pay a fee in such a way that it doesn&rsquo;t provide additional information to the chain analyzers?</p><p>Speaker 2: 00:31:20</p><p>I&rsquo;m not sure whether it actually provides additional information.
I would have to think about it because it would only provide more information if it would help you distinguish between subsets that are more likely the real or mappings that are more likely the real mappings than others, right?</p><p>Speaker 1: 00:31:45</p><p>Yeah, I agree with that.
It doesn&rsquo;t provide additional information.
It makes it even harder to do the analysis.
And I did the analysis with the precision and the only real difficulty with the tunnel is this is how do you set the precision and what I realized for normal coin joins you can set the precision as the mining fee because the mining fees the maximum amount one participant can pay.
With joint market transactions, it&rsquo;s mining fee plus a random, I don&rsquo;t know what it should be, random whatever the joint market transaction agreement was on the fees that the taker pays for the makers.
On Wasabi It&rsquo;s a mining fee plus 1% and that produces a bunch of unreliability, of course.
So, yeah, I don&rsquo;t see how it would provide more information.</p><p>Speaker 3: 00:33:03</p><p>No, it does, it provides more information.
In fact, I mean, if you for example, you know that the feed rate is, I don&rsquo;t know, 1, yes?
And you have all the set partition.</p><p>Speaker 1: 00:33:17</p><p>Oh no, explain it.
What does it mean one?</p><p>Speaker 3: 00:33:21</p><p>Ok, one satoshi per byte.
If the fill rate is one satoshi per byte, for example, and you see that you can take all the partitions, right?
And say, okay, the sum of these inputs, minus the sum of these outputs gives you the fee, right?
So, that fee, given the size of the transaction, you know how much it paid.
What is the fee rate?</p><p>Speaker 1: 00:34:05</p><p>You don&rsquo;t know who paid the fee.
There are many participants.
It could be that only one participant paid the fee.
It could be that all of them paid together.</p><p>Speaker 3: 00:34:18</p><p>Yes, well, in that case, if only one pay the fee, ok, yes, it makes sense, but in that case also is a problem because you can say, ok, if it match exactly, yes, then this is one of those that didn&rsquo;t pay any fee.</p><p>Speaker 1: 00:34:38</p><p>You may say exactly but I don&rsquo;t understand.</p><p>Speaker 3: 00:34:42</p><p>If the sum of the input and the sum of the outputs is</p><p>Speaker 1: 00:34:46</p><p>exact.
Then you can say that this participant did not pay anything.
Why would you say that?
There are many other sub-mappings that could be possible, even if you found one that all the duff like that, if you find other mappings that those are just as likely as that your first impression.</p><p>Speaker 2: 00:35:15</p><p>I think I understand what you mean, Lukas.
So if all the participants pay exactly the same fee, and we have one mapping where all the input and the difference between the inputs and the outputs exactly matches this fee.
Then we would assume that this must be the true mapping.
But I&rsquo;m not sure whether there would only be one such mapping.</p><p>Speaker 3: 00:35:46</p><p>Well, yes, but in the in the runs that I made I found a lot of mappings, but some mappings have only two inputs, right?
And other mappings have six inputs, yes?
But if I know that they pay 1 satoshi per byte and the fee paid was x, I don&rsquo;t know, so I can know which of those mappings is the real one because one will be paying exactly one satoshi per byte and the other one will be paying a lot less because they have a lot more inputs.
So, it is a bigger sub-transaction.
So, I know that sub-transaction cannot be the real one because it&rsquo;s paying less than the expected fee.</p><p>Speaker 2: 00:36:49</p><p>So you mean when you have multiple mappings and then the difference between the inputs and outputs of sub transactions should be proportional to the number of inputs and outputs and then you would know that is likely the mapping</p><p>Speaker 3: 00:37:09</p><p>yes exactly exactly</p><p>Speaker 2: 00:37:16</p><p>yeah could be I mean obviously I have to add this is more or less an empirical analysis.
It&rsquo;s not really a mathematical proof of this concept.
So I think the idea is really good and I think it would work combined because of the reason that it&rsquo;s likely infeasible to find out which mapping is correct.
And also difficult to actually find the mappings once the transactions get big enough, but it&rsquo;s not provably correct or provably anonymous in a more strict sense, I guess.</p><p>Speaker 3: 00:38:13</p><p>One more question, I&rsquo;m curious.
Your analysis, how many sub-transactions, inputs, outputs did you use?
I mean, did you try with bigger, with a bigger number of participants, with more inputs and more outputs than those in the paper?</p><p>Speaker 2: 00:38:40</p><p>Actually, no.
And the reason was that the time it took to find the mappings would just grow too much.
And it didn&rsquo;t run on my workstation.
I had a bit bigger server with lots of RAM and multiple cores, I think 64 cores.
Now, obviously, you could have a really much bigger, yeah, a bigger computing computer or server or server farm.
But yeah, for us, it was really the case that it became just too difficult to find all the, or not difficult, but it took too much time to find all the mappings.</p><p>Speaker 3: 00:39:29</p><p>Yes, I know, I tried with eight sub-transactions and it was running all all the day and didn&rsquo;t finish.
So I canceled the process.
Yeah, okay, Thank you.</p><p>Speaker 2: 00:39:50</p><p>And if my analysis of the theoretical complexity is not completely wrong, then I think the computing time it takes, depending on the inputs and output really increases by a lot when you increase the inputs and outputs.
I have it here, but it&rsquo;s not written down in an easy way.
I think two to the power of n times m where n is the Which n is that assess n</p><p>Speaker 1: 00:40:32</p><p>Are you talking about the van number or your lower bound estimation?</p><p>Speaker 2: 00:40:40</p><p>My lower bound estimation.</p><p>Speaker 1: 00:40:47</p><p>I think it makes sense what I&rsquo;ve read on the internet, on Wikipedia, that the best algorithms known for solving subset sum is still exponential.</p><p>Speaker 2: 00:41:07</p><p>Yeah, so I think if you would, I mean, the sizes of this mixed transactions in the paper I think should be only in an academical setting.
If you can automate it, and the idea was, you can join an arbitrary transactions because the sum or the value of the inputs doesn&rsquo;t matter.
It doesn&rsquo;t need to be a fixed amount for each input.
Then you can create for each transaction that you do, you can create with other peers for each transaction such a coin transaction of a huge size if enough people use the same wallet at the same time.</p><p>Speaker 1: 00:42:01</p><p>Since we are going into it, I&rsquo;d like to say an idea of mine that one of the most frequent question in Wasabi was that why do we have the 100 anonymity set and like that.
But and the reason is because I sent out emails and that seemed like the consensus that okay that should be fine, 100 participants, but your lower bound estimation could actually give us a mathematic formula to set a minimum participants, right, for any coin joins.
Okay, you kind of need at least this many participants in order to make, in order to reach this computational hardness in deciphering the coin joins.
Does that make sense guys?</p><p>Speaker 2: 00:43:07</p><p>I think the theoretical bound is difficult to translate in and concrete amount of time it needs to find the partitioning.
But it&rsquo;s only really good for explaining how fast it gets more complex or how fast the time increases that you need to find a partition depending on the number of people who participate?</p><p>Speaker 1: 00:43:42</p><p>Yes, it&rsquo;s not a perfect fit but the main problem is that there must be a number chosen of what&rsquo;s the minimum number of participants that we want to do and that&rsquo;s why I thought this formula, your lower bound estimation would be actually somewhat useful in deciding on that number that we kind of choose, let&rsquo;s say arbitrarily or with educated guesses, I don&rsquo;t know.</p><p>Speaker 2: 00:44:19</p><p>Yes, I guess you could, based on the time it takes for some simple examples, you could extrapolate using that function for more complex cases where more participants with more inputs to take part.</p><p>Speaker 1: 00:44:36</p><p>All right.</p><p>Speaker 3: 00:44:39</p><p>One more thing.
I remember in the paper you said that if you spend one of those outputs in another Knapsack transaction, the difficulty could be similar to the one, I mean the problem of finding all the mappings across different, across a chain of NAPSA transactions, the difficulty also increases similar to the process of mining blocks, mining a chain of blocks, right?
Do you have any additional numbers about that?
Because I agree intuitively that that is true.
But do you have any numbers about that?
Have you tried that?</p><p>Speaker 2: 00:45:44</p><p>No, sorry, that&rsquo;s something I didn&rsquo;t try.
And I&rsquo;d like to add that intuitively, I think that the difficulty or the problem would be that if enough people would use this kind of transactions, and you would have a continuous flow of these transactions, which could create kind of a backlog of coin join transactions that you need to find the mappings for, which is what I mean in the complexity increases when you have when you use it continuously.
On the other hand, linking, for example, two outputs together could actually be more easy if they both appear again as inputs in the next coinjoin transactions.
That is one of the open questions, one of the open problems.</p><p>Speaker 3: 00:46:45</p><p>Okay, thank you.</p><p>Speaker 1: 00:46:51</p><p>Anyone would like to chime in who did not talk yet?</p><p>Speaker 5: 00:47:02</p><p>I only have a couple of basic, maybe a little bit stupid questions, but are you guys intending this knapsack coin join as a method of like payment for like straight up to for the, for example on some service or it is like basic coin join like it&rsquo;s the output will come to me the both outputs.</p><p>Speaker 0: 00:47:35</p><p>Coin join like for payments whereas the zero link currently does coin joins as I think I can</p><p>Speaker 3: 00:47:42</p><p>answer this question.</p><p>Speaker 4: 00:47:43</p><p>Coinjoin for</p><p>Speaker 3: 00:47:43</p><p>payments, whereas Zerolink currently does</p><p>Speaker 0: 00:47:43</p><p>Coinjoins as mixing transactions.
This is actually the question I wanted to ask Felix was, you know, if he knows anything about how Wasabi currently works and, you know, the distinction between a coin join for mixing and a coin join for sending.
And I feel like having read this paper, I feel like Wasabi being able to send in a coin join might open doors for more privacy.</p><p>Speaker 2: 00:48:19</p><p>Yeah, To be honest, I didn&rsquo;t know about Wasabi until now because I really I&rsquo;m not keeping up with the current developments on Bitcoin anymore or other other cryptocurrencies.
But yeah, what was my idea was that actually, that&rsquo;s the point of the Knapsack mixing, that you can use coin transactions for actually performing the transactions that you want to do, and not only for anonymizing coins.
So you can in the same step, send coins to a third party and do the mixing.
Okay,</p><p>Speaker 4: 00:49:01</p><p>thanks.
Okay, thanks.</p><p>Speaker 3: 00:49:08</p><p>One comment.
It is easy for us if we one day decide to implement something like this.
It is easy because if you mix to yourself, you can generate all the addresses that you need because you know your keys, right?
And you can generate your own keys, as many as you want.
But for payments, you need to be able to generate addresses for someone else.
Many addresses, probably by sure more than the payment and the change.
You need to be able to generate more addresses.
So, it is not hard to do, I think, but it is something that is not so easy with the existing culture, let&rsquo;s say.
Because if I want to pay you, Aviv, I ask you for one address.
Imagine I say, OK, Aviv, I want to pay you.
Send me 10 of your addresses.
It is not, it is unusual, right?
So we need something different.</p><p>Speaker 1: 00:50:20</p><p>Yes, I agree.
There are solutions for that, like stat addresses or give me an Onion, your Onion node, Onion address, and we could maybe work it out, but it&rsquo;s a lot of work.
Yes.
However, maybe it&rsquo;s possible to do a variation of Knapsack where you kind of keep the payment as it is, but you are only mixing on the changes.
It should be an easier thing.</p><p>Speaker 2: 00:51:05</p><p>Actually, I&rsquo;m quite sure I&rsquo;ve read about special kinds of Bitcoin addresses where you can for the receiver of the transaction generate as many addresses as you want And I don&rsquo;t remember how it was.
It was kind of like a public private key scheme where you can generate new addresses and only the receiver is able to use these addresses.
I guess the only remaining problem would be for the receiver to notice transactions which contain addresses that belong to him.
But I will try to find out what they were called.</p><p>Speaker 1: 00:51:47</p><p>I know too, both of them have some very serious trade-offs.
Say if it&rsquo;s one of them or if it&rsquo;s not, then I would like to investigate.
One is stat addresses, you were actually mentioning that in the paper and the other one is payment codes.
Is it one of it?</p><p>Speaker 2: 00:52:12</p><p>I&rsquo;m not sure.
I thought it was something with blind signatures.</p><p>Speaker 1: 00:52:17</p><p>That would be actually awesome.</p><p>Speaker 2: 00:52:22</p><p>Maybe I&rsquo;m remembering something wrong, but I can try to look it up and try to find what I was reading.
But I thought that that might not be a problem.</p><p>Speaker 1: 00:52:41</p><p>Yes, it&rsquo;s a problem.
But not.
And anyway, I just like to say that these conversations, I would really like to make these as a learning conversations and not necessarily how to integrate it or implement it into Wasabi or how to do anything with Wasabi.
Because there are like 600 more papers that I want to review and maybe at the end when everything is, we learned about everything, then we can come up with something, then we can use different techniques from different papers.
What my thinking is right now, is that it&rsquo;s just a vague idea, but if we could figure out, if we could figure out scaling quality, if we could make, if we could give a number to, hey, we mix this way and this mix is this efficient.
If we could scale the efficiency of the mix, if we could tell how efficient one mix is, then we could come up with a bunch of mixing solutions and we would know that, hey, this mixing solution gives the best blockchain space per anonymity gained number.
Right?
And what would be the anonymity gained?
What is this Knapsack paper is doing pretty well that it is&mldr;
I was always thinking about just breaking the link with how much anonymity set, but this Knapsack paper pointed me that, hey, you actually can break the link between the inputs, you can break the link between the outputs, and of course you can break the link between inputs and outputs.
So that makes the anonymity gained metric much better.
So that&rsquo;s great.
Alright, do you guys have any presentations?
Who has presentations here?
Who has presentations here?</p><p>Speaker 2: 00:55:24</p><p>So, I guess at that point I&rsquo;m going to leave because it&rsquo;s already quite late here.
The address in the paper is not a valid email address anymore.
I don&rsquo;t receive emails on that address anymore.
But if you have any questions, you can contact me at any time.
I send you my new email address in the chat.
So feel free to ask me if you have any more questions.</p><p>Speaker 1: 00:55:50</p><p>Yeah, thanks a lot for coming.
It was a pleasure to&mldr;</p><p>Speaker 2: 00:55:55</p><p>Yeah, thanks for having me.
It&rsquo;s always nice to see that you&rsquo;ve done something interesting.</p><p>Speaker 3: 00:56:07</p><p>Yes, I&rsquo;m a big fan of your work.</p><p>Speaker 2: 00:56:10</p><p>Thanks.
So thanks and goodbye, maybe until some time later.</p><p>Speaker 1: 00:56:19</p><p>All right, bye bye.</p><p>Speaker 5: 00:56:22</p><p>Yeah, I was thinking about, could you, Aviv, show your presentation again?</p><p>Speaker 0: 00:56:28</p><p>Yeah, just give me one quick sec here.</p><p>Speaker 4: 00:56:30</p><p>Yeah.</p><p>Speaker 0: 00:56:41</p><p>Did you have a slide in mind?</p><p>Speaker 5: 00:56:43</p><p>Yeah.
Could you go on the one where is the inputs and outputs?
Like, yeah, for example, this case, what determines the actual numbers of the outputs?
Let&rsquo;s say that if this wasn&rsquo;t for payments where there is an exact number or some required, what determines these outputs or the value of them?</p><p>Speaker 0: 00:57:08</p><p>Yeah, so the idea is you would get a more efficient knapsack mix if you just allowed for infinite outputs, because they would get very small and then it would take more time to compute but there&rsquo;s the trade-off that you don&rsquo;t want to have lots of outputs so the simple knapsack idea here was just take regular transactions that have no special features and for every two transactions take the larger one, the one with the larger output and break down a large output into two parts where in this case the number 31 is the difference between the green and the orange brown values.
So in this knapsack method, you only add one output for every two transactions that combine.</p><p>Speaker 5: 00:58:08</p><p>Yeah, okay.</p><p>Speaker 3: 00:58:11</p><p>I&rsquo;m back.</p><p>Speaker 1: 00:58:15</p><p>Yeah, you can go ahead.</p><p>Speaker 3: 00:58:20</p><p>Yeah, yes.
Sorry, I lost connection.
Okay, what I want to show you</p><p>Speaker 4: 00:58:41</p><p>is</p><p>Speaker 3: 00:58:45</p><p>the difficulty with the free spans.
Okay, I&rsquo;m</p><p>Speaker 4: 00:58:51</p><p>leaving with you.</p><p>Speaker 2: 00:58:51</p><p>I call it a</p><p>Speaker 3: 00:58:51</p><p>with Okay, I&rsquo;m with you okay Three seconds</p><p>Speaker 1: 00:59:02</p><p>I don&rsquo;t know if it&rsquo;s going to work.</p><p>Speaker 3: 00:59:04</p><p>The number of&mldr;</p><p>Speaker 1: 00:59:19</p><p>Okay.</p><p>Speaker 4: 00:59:22</p><p>Okay.</p><p>Speaker 5: 00:59:24</p><p>Okay, well, just going back to the Abibis presentation thing.
I was just thinking about, you know, if it wasn&rsquo;t for payments, and there would be like any kind of set amount that you would have to reach on as output.
I understand that we wouldn&rsquo;t like to like use too many or break it down into too many UTXOs. But in like, in some sense, I think it could kind of work.
I&rsquo;m not sure if it&rsquo;s just too expensive or something for after why it&rsquo;s like combining all these UTXOs or something like that, but, you know, like breaking it down onto the smallest possible input that there is.
And, you know, not maybe like, like the smallest one, but, you know, just breaking it down into a smaller and exact the same outputs, you know, like you could combine many inputs and the fee would go like a static, depending on how many inputs you&rsquo;re putting.
And then it would just, you know, give you either like, for example, a bigger sum or a smaller sum.
They could be like different kind of knapsacks, coin joins.
I&rsquo;m not sure if I&rsquo;m explaining this correctly.
Did you guys get any of that?</p><p>Speaker 0: 01:00:55</p><p>I think I understand what you&rsquo;re saying.
There&rsquo;s some problems with that idea as well.
I mean, inefficiency is one of them.
But another issue that I see with these knapsack examples is we don&rsquo;t think about how transactions look like over a longer period of time.
So for example, Let&rsquo;s say you have many, many, many change outputs.
If you decide to then spend many of these change outputs together in a transaction down the road, it undoes all of the privacy gains from the knapsack for the most part.
So I think those are one concern.
Is there something else you wanted to say?</p><p>Speaker 5: 01:01:44</p><p>Yeah, I&rsquo;m not sure.
I mean I just thought about this thing right now.
So maybe I have to just sit down and think about a little bit more before I try to verbalize it.
But well, another thing was that about the mappings and the computation of that, I mean, is that actually necessary for Wasabi to do?
Or is it like, just beneficial thing if it would take too much time for actually go down on all these mappings?
I mean, let&rsquo;s say that there would be like, let&rsquo;s say, five participants, which all are putting like three different inputs.
And yeah, for example, getting that well, X amount of outputs.
I&rsquo;m not sure if it&rsquo;s only a good thing if the mapping is hard to calculate.</p><p>Speaker 1: 01:02:47</p><p>Mapping is not necessary to do in order to build a system.
What&rsquo;s interesting about calculating these mappings is that we can actually see that where are the bottlenecks of blockchain analysis companies so that&rsquo;s that&rsquo;s why I am interested in calculating the mappings.</p><p>Speaker 5: 01:03:15</p><p>Yeah that&rsquo;s what I was thinking also I mean if we could just use it as a benefit.</p><p>Speaker 1: 01:03:23</p><p>Yeah, back to the, for example, the idea that I said before that Felix actually estimated the lower bound for the subset sum analysis here.
And we could say that, hey, okay, we need at least this many inputs and outputs.
And if 10, I think 10 is pretty, let&rsquo;s say if 10 inputs and outputs are present, then that already provides computational privacy.
So we could set a lower bound for, okay, yeah, we want to target 10 as the minimum number of participants or something like that.
So That&rsquo;s an interesting idea, yes.</p><p>Speaker 0: 01:04:21</p><p>Adam, can I add something before I have to run here?
It seems like a lot of privacy benefits would come from having&mldr;
Right now we&rsquo;ve split the mixing and the sending as two separate features, but it seems like privacy would be much stronger if people that weren&rsquo;t doing mixing could still participate in a Wasabi transaction.
It&rsquo;s just something that I thought about.</p><p>Speaker 1: 01:05:06</p><p>I&rsquo;m not sure I understand.
Sorry.</p><p>Speaker 0: 01:05:09</p><p>Yeah.
I mean, so</p><p>Speaker 3: 01:05:13</p><p>why</p><p>Speaker 5: 01:05:18</p><p>that There will be like more people linked to the coin joins, even if they don&rsquo;t actually use Wasabi.</p><p>Speaker 4: 01:05:31</p><p>Yeah, what I mean to</p><p>Speaker 0: 01:05:32</p><p>say is that What if a user just wanted to send someone money and essentially wanted to participate in these knapsack type coin joins for spending?
Then that could be a separate service that could be added to Wasabi.</p><p>Speaker 6: 01:05:53</p><p>Right?</p><p>Speaker 0: 01:05:56</p><p>Like, imagine if the entire blockchain didn&rsquo;t have transactions, but just had lists of inputs and outputs.
I think we can agree that it would be computationally very hard for people to successfully unravel the entire block of inputs and outputs.
So I think that&rsquo;s sort of what I was thinking about.</p><p>Speaker 1: 01:06:23</p><p>Yeah, yes, of course.
Even if you don&rsquo;t do any mixing, right?
More problems there are with, let&rsquo;s say, how do you get all the participants of a block agree on the fee?
I don&rsquo;t know.
It raises more questions than it answers, I think.</p><p>Speaker 3: 01:07:00</p><p>One more thing, the Napsax transactions&mldr;
Lucas, because</p><p>Speaker 1: 01:07:06</p><p>Avi is leaving, before Avi leaves, can we decide on what should be our next&mldr;
What should be next Monday, What should we look into?
You guys have ideas?</p><p>Speaker 3: 01:07:25</p><p>No. Coinshopper?</p><p>Speaker 1: 01:07:33</p><p>All right, Coinshopper one idea.
All right, Coinshuffle, one idea.</p><p>Speaker 0: 01:07:41</p><p>There are some papers that were cited by Felix&rsquo;s paper that I thought were interesting but I think coin shuffle was one of them.</p><p>Speaker 1: 01:07:59</p><p>There is also a coinjoin Sudoku from Christovatas, you know, anonymizing all the blockchain info shared</p><p>Speaker 4: 01:08:16</p><p>Also,</p><p>Speaker 1: 01:08:22</p><p>also secure multiparty computation, which came up in the paper, but I&rsquo;ve seen that came up so many times in so many papers in the coinshuffle paper too by the way that I&rsquo;m just as interested what the heck that would be.
So anyway any more ideas or decide on these three now?
Or vote, let&rsquo;s vote for these three.
Or something else in the mix, do you want to add?</p><p>Speaker 3: 01:09:04</p><p>I prefer coin shuffle and there is another variant, I don&rsquo;t remember this, it is coin shuffle plus plus or something like that</p><p>Speaker 1: 01:09:15</p><p>There is coin shuffle plus plus and there is value shuffle Which is coin shuffle++ with confidential transactions So anyway Let&rsquo;s go from left to right Aviv, coin shuffle, coin join sudoku, secure multi-party Computation?</p><p>Speaker 0: 01:09:39</p><p>I guess I&rsquo;ll vote for CoinShuffle.</p><p>Speaker 1: 01:09:43</p><p>Ok, Lucas, CoinShuffle.
Igor?</p><p>Speaker 3: 01:09:48</p><p>Probably yes.
Or yes, also CoinJoin Sudoku, but I think it&rsquo;s pretty much the same that we have discussed today, finding the partitions.
So I don&rsquo;t know if it brings something new to us.</p><p>Speaker 1: 01:10:06</p><p>Yeah, that was kind of my idea there, that we could look at someone else&rsquo;s work on the same topic that&rsquo;s actually a part of the Knapsack paper and we could compare that.
Oh there is also sneaker.</p><p>Speaker 3: 01:10:32</p><p>Oh sneakers too, yeah sneakers can be too.
Probably sneakers is better than coin shuffle because coin shuffle has some communication schemes that is pretty hard.
I don&rsquo;t know if it can be implemented really.
So yeah.</p><p>Speaker 1: 01:10:52</p><p>Okay, let&rsquo;s start it again then and I will note how much are the votes and let&rsquo;s get over with.
So, CoinShuffle is from EmRuffing and it&rsquo;s about mixing transactions.
It&rsquo;s similar to Zerolink in that sense.
CoinJoin Sudoku is from Christoph Atlas and it is how do you de-anonymize coinjoins.
I think it&rsquo;s solving the subset sum problem somehow.
This is a smaller thing.
Secure multiparty computation.
I have no idea what is this but I think it&rsquo;s something that will come back Because it came back many times sneaker is from Adam Gibson and This is a this is coin join Some some interesting idea to do coin joins.
Okay, Aviv, coin shuffle, coin joins, Sudoku, Secure multiparty computation, sneaker, you can vote for multiple things.</p><p>Speaker 0: 01:12:02</p><p>I think the coin shuffle or the sneaker would be interesting.</p><p>Speaker 1: 01:12:06</p><p>Okay, coin shuffle one vote, sneaker one vote.
Lukas?</p><p>Speaker 3: 01:12:12</p><p>The sneaker.
Only sneaker?
Yes, Igor</p><p>Speaker 4: 01:12:42</p><p>I cannot</p><p>Speaker 1: 01:12:42</p><p>hear you Couldn&rsquo;t hear anything.
Anything.</p><p>Speaker 0: 01:13:03</p><p>I&rsquo;m going to head out.
I trust your judgment to vote.</p><p>Speaker 4: 01:13:06</p><p>I&rsquo;m gonna head out I trust you</p><p>Speaker 0: 01:13:06</p><p>your judgment to vote and I&rsquo;ll read whatever is submitted for next week</p><p>Speaker 3: 01:13:15</p><p>perfect see you Aviv thank you</p><p>Speaker 6: 01:13:19</p><p>Cheers, thanks.</p><p>Speaker 5: 01:13:20</p><p>Thanks, an awesome presentation.</p><p>Speaker 0: 01:13:24</p><p>Thanks guys.</p><p>Speaker 1: 01:13:26</p><p>Thank you.
Alright, O, would you like to keep your eye on him?</p><p>Speaker 6: 01:13:38</p><p>I would dive more deeper into what Adam Gibson does on this topic, because I know the man and Yeah, I&rsquo;m really curious what he&rsquo;s doing especially with regards to what you guys are researching.
So yeah</p><p>Speaker 1: 01:13:53</p><p>All right,</p><p>Speaker 4: 01:13:54</p><p>and the name is yeah</p><p>Speaker 1: 01:13:58</p><p>The rough file</p><p>Speaker 5: 01:14:01</p><p>Yeah, I like the idea of shuffle and sneakers.</p><p>Speaker 6: 01:14:06</p><p>Everyone is hungry probably.</p><p>Speaker 1: 01:14:12</p><p>Yahya?
Yahya, are you with us?
Yahya, are you with us?
Okay, I see what you wrote.
You&rsquo;re not familiar with any of it.
All right.
Well, it doesn&rsquo;t really matter what I wrote.
It&rsquo;s going to be Snicker.
Because that has four votes.
Okay so it&rsquo;s going to be sneaker than next next meeting and Lucas you were saying something that I disrupted you so go ahead.</p><p>Speaker 3: 01:14:50</p><p>Yes, just a comment that those SnapSack transactions for an observer, an external observer, It is not easy to realize it is a conjoined, because I mean it can be a batch transaction, a pay-to-many transaction.
I mean in the blockchain there are lots and lots and lots of transactions with more than, I don&rsquo;t know, 5 inputs and 10 outputs that are not conjoined, right?
So, It is not easy to know that that&rsquo;s a conjoint transaction.
So there is not a clear fingerprint.
So you have to analyze the transaction and then you say, hey, this transaction has a lot of ambiguity, so it has to be a conjoined transaction.
But otherwise, it&rsquo;s not easy.
And, ok, you know, you say, ok, this is a conjoined transaction, a knapsack transaction, but who has created that transaction or how many participants it has.
So, it&rsquo;s not so easy.
For example, in Wasabi we&mldr;</p><p>Speaker 1: 01:16:19</p><p>I disagree completely because there are just so many fingerprints in the blockchain that you can&rsquo;t tell exactly which wallet created that transaction by just looking at the endlock time let&rsquo;s say you know</p><p>Speaker 3: 01:16:35</p><p>yes yes yes sure it is possible but anyway if you for example cannot know so easily how many participants are.
In Wasabi it is easy because you count how many equal outputs are.
If there are 66 equal outputs then there are 66 participants.
In this case it&rsquo;s a bit harder.
So it&rsquo;s something to have in mind.</p><p>Speaker 5: 01:17:15</p><p>By the way, if I can ask a weird question, then what did it mean, Nopara, about being able to know which wallet created the transaction by the nlock time?</p><p>Speaker 1: 01:17:29</p><p>That different wallets are using different fees, different nlock times.
They either use it or not, or they either use a specific number.
They might bump the transaction able to do RBF.
You see there is a set of features.
Those features sometimes have like a run on a, let&rsquo;s say the fee.
You have to decide what fee you will do in the transaction and if that fee, that exact fee that transaction is being made with can only be produced with Electrum.
Electrum is a bad example because Electrum, Bitcoin Core and Wasabi kind of can produce each other&rsquo;s fees.
But if that can only be produced with Electrum, then it&rsquo;s going to be a transaction with Electrum.
Okay, so now we figured out that this is a transaction with Electrum.
Now we have to just apply our heuristic that what is the likelihood that this Electrum is going to create a pay-to-endpoint transaction.
So that&rsquo;s what I&rsquo;m saying, that there are so many metadata in the transactions that you can probably tell what wallet created it.</p><p>Speaker 5: 01:19:03</p><p>Okay, yeah, thanks for clarifying that.</p><p>Speaker 1: 01:19:09</p><p>I was fighting a lot against it previously, but I just realized it&rsquo;s not possible to hide anything because there is always something.</p><p>Speaker 5: 01:19:29</p><p>And If I may ask another stupid question is what exactly is analog time?
And I mean, I think I&rsquo;ve heard about it, but I just don&rsquo;t remember anything Or what does it like conclude</p><p>Speaker 1: 01:19:45</p><p>Because</p><p>Speaker 3: 01:19:49</p><p>It&rsquo;s when that transaction can be mine, basically.
You say, okay, this transaction can be mine right now, can be mine after this block height.
So basically that&rsquo;s all.
It&rsquo;s a field in the transaction where you specify when that transaction can be mined.</p><p>Speaker 5: 01:20:14</p><p>Okay, yeah, alright, thanks.</p><p>Speaker 1: 01:20:17</p><p>For example, Bitcoin Core and Electrum are using an n-lock time that is in order to discourage fee sniping, which whatever it is, it&rsquo;s not on top of my mind, but you know, like things like this.
Or the RBF, that&rsquo;s like if you send a transaction and you have RBF enabled, then only that information that this transaction can do RBF.
Just, okay, now look at which wallets can do RBF and it must be, it&rsquo;s probably from those wallets.
Now if you do an RBF transaction, if you bump the fee then oh that&rsquo;s a lot more information to expose because you can only bump the fee from removing the change, then you just exposed where you are sending the money, which would be exposed by the transaction chain anyway later on.
But you just exposed at that point where you are sending the money and if the fee bump has such a specific number that, okay, let&rsquo;s say Bitcoin Core always bumps the fee with this number or with this fee rate, then you can further narrow the range of possible wallets that can do that.
So it gets really, really bad.</p><p>Speaker 5: 01:22:01</p><p>OK, Yeah, I think I get it.
And with RBF, you like expose which one of the addresses or outputs are like the actual change.</p><p>Speaker 1: 01:22:10</p><p>Yes.
Right.
That might be the most obvious one.
I didn&rsquo;t even do this for a very long time.
Then things just start to click, you know.</p><p>Speaker 5: 01:22:25</p><p>Okay, good to know.</p><p>Speaker 1: 01:22:28</p><p>Alright, what else</p><p>Speaker 4: 01:22:30</p><p>do we have?</p><p>Speaker 1: 01:22:31</p><p>What else do we have?</p><p>Speaker 6: 01:22:34</p><p>Nopora, I have a question.
You said about the paper that had information about confidential assets and mixing or something like that?
You mentioned it like 5 minutes ago or something.</p><p>Speaker 1: 01:22:51</p><p>Yes, I was explaining the history of CoinShuffle.
It started with CoinShuffle, then they came up with a new protocol that doesn&rsquo;t require TOR, that&rsquo;s called DiceMix, and they incorporated it into CoinShuffle, and they called it CoinShuffle++, and then they figured out how to do CoinShuffle with confidential transactions and that is called ValueShuffle.</p><p>Speaker 6: 01:23:30</p><p>Can you send me a reference link or something on that?
I&rsquo;m already done the Go in it, but it could be a bit faster and more helpful.
CoinShuffle++?
Just</p><p>Speaker 1: 01:23:43</p><p>Google value shuffle.
Or wait, value</p><p>Speaker 6: 01:23:46</p><p>shuffle.
Okay.</p><p>Speaker 1: 01:23:52</p><p>Are you interested in Coinshopper++?</p><p>Speaker 6: 01:23:56</p><p>Well, I&rsquo;m interested in mixing and confidential assets involvement in that.
Because it is, well, I want to know if there is something that I can bring for RGB.</p><p>Speaker 1: 01:24:12</p><p>Yeah, that&rsquo;s something that we could contribute later on.</p><p>Speaker 6: 01:24:20</p><p>Okay, well, that could be the topic that I might be prepared for.
So yeah, thanks for explaining that again, Alamoglu.</p><p>Speaker 1: 01:24:32</p><p>Yeah, bring it to next episode and we will see.
I think there is some interesting things to learn from me too.
I would give you a vote for that.</p><p>Speaker 4: 01:24:49</p><p>Thank you.
Good.
Thanks.</p><p>Speaker 1: 01:24:53</p><p>All right.
Do you guys have anything else?</p><p>Speaker 3: 01:25:02</p><p>No. Not</p><p>Speaker 4: 01:25:03</p><p>me.
I</p><p>Speaker 6: 01:25:05</p><p>have my homework.</p><p>Speaker 5: 01:25:09</p><p>Yeah, me too.</p><p>Speaker 1: 01:25:12</p><p>All right.
Then Next episode is going to be sneaker.
And yeah, thanks for coming and I will publish it to, I don&rsquo;t know where, if the recording is good I will publish it to probably the Wasabi channel.
And we&rsquo;ll see.
What are your thoughts about how was this so far?
Did you enjoy it?
Do you have any recommendations how to improve these conversations?</p><p>Speaker 5: 01:25:52</p><p>At least Abib&rsquo;s presentation was pretty damn good in my opinion.
I mean like a short recap of what was what and what&rsquo;s the point of Knapsack.
So it makes a pretty good, like, yeah, just a video in itself.
But of course, also these talks too.</p><p>Speaker 1: 01:26:15</p><p>Yeah, I was kind of afraid that Felix is going to leave.
We have to grab Felix at the beginning because he&rsquo;s gonna leave.
Yeah, definitely.</p><p>Speaker 3: 01:26:29</p><p>Yes, From my point of view, the participation of Felix was great.
So, for Sneakers, if we can have Adam here, it could be great too.</p><p>Speaker 1: 01:26:50</p><p>I will ask him I can&rsquo;t I can&rsquo;t promise Felix didn&rsquo;t promise it to either he said he will try So that&rsquo;s why I didn&rsquo;t even send out a tweet or anything.
Hey, Felix is going to be here because if he&rsquo;s not&mldr;
Anyway, I will tell Adam to come.
Yeah, definitely.
I hope he can.
Yeah.</p><p>Speaker 6: 01:27:21</p><p>Yeah, I think this format was very good.
On one hand, you had a person within the team who introduced the brief recap of the article, and then on the other hand, you had the actual author of the article that could contribute online and fix mistakes, misunderstandings and everything.
And also knowing that he&rsquo;s not working anymore, like Felix is not working anymore, for example, on this topic is also valuable because you kind of understand where it goes and what questions he can cover and which questions probably should be covered by someone else.
So yeah, having an author of paper is very good here.
And of course the discussion afterwards, as always, just marvelous.</p><p>Speaker 1: 01:28:14</p><p>All right guys, so if no one has anything, then thank you all for coming and if this is published and you are listening it on YouTube or something, then definitely everything that we talked about, the paper, Felix&rsquo;s code, our code, everything is going to be in the description.
So you can follow up and maybe change the word by getting some ideas.
Alright, thank you guys.
Thank you.
All right.</p><p>Speaker 4: 01:28:48</p><p>Thank you guys.</p><p>Speaker 3: 01:28:49</p><p>Bye-bye.
Thank</p><p>Speaker 5: 01:28:50</p><p>you.
Bye.</p><div class=row></div></div></div></div><script src=https://btctranscripts.com/lib/jquery.min.js></script><script src=https://btctranscripts.com/lib/popper.min.js></script><script src=https://btctranscripts.com/js/bootstrap.min.js></script><script type=text/javascript src=/plugins/lunr.min.js></script><script type=text/javascript src=/plugins/auto-complete.js></script><link href=/plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://btctranscripts.com/"</script><script type=text/javascript src=/plugins/search.js></script><script type=text/javascript src=https://btctranscripts.com/js/custom.js></script><script type=text/javascript src=/plugins/clipboard.js></script><script>new ClipboardJS(".btn")</script></body></html>