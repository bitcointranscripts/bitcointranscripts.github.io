<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=https://btctranscripts.com/chaincode-labs/chaincode-podcast/chaincode-decoded-mempool/><title>Chaincode Decoded: Mempool | ₿itcoin Transcripts
</title><link href=https://btctranscripts.com/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=https://btctranscripts.com/css/ace.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://btctranscripts.com/images/btctranscripts.png"><meta name=twitter:title content="Mark Erhardt, Adam Jonas - Chaincode Decoded: Mempool"><meta name=twitter:description content="The Chaincode Decoded segment returns and we jump into the deep end of the mempool."><script async src=https://visits.bitcoindevs.xyz/script.js data-website-id=06384ada-7f1c-44c2-a6d9-d830fb23e122></script></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=/>₿itcoin Transcripts</a></div><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/es>es</a></li><li class=nav-item><a class=nav-link href=/pt>pt</a></li><li class=nav-item><a class=nav-link href=/zh>zh</a></li><li class=nav-item><a class=nav-link href=https://github.com/bitcointranscripts/bitcointranscripts target=_blank><i class='fab fa-github'></i></a></li></ul></div></div></nav><div class="alert alert-warning fade show sticky-banner" role=alert><strong><a href=https://review.btctranscripts.com target=_blank data-umami-event=click-banner>Get paid to review technical Bitcoin transcripts
</a></strong><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder='Search (press "/")'></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/adopting-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/><h6>Adopting Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/adopting-bitcoin/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/2021/><h6>Adopting Bitcoin 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/adopting-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/2022/><h6>Adopting Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/advancing-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/><h6>Advancing Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/advancing-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2019/><h6>Advancing Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2020/><h6>Advancing Bitcoin 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2022/><h6>Advancing Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2023/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2023/><h6>Advancing Bitcoin 2023</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/andreas-antonopoulos/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/andreas-antonopoulos/><h6>Andreas Antonopoulos</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/austin-bitcoin-developers/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/austin-bitcoin-developers/><h6>Austin Bitcoin Developers</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/><h6>Baltic Honeybadger</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/baltic-honeybadger/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2018/><h6>Baltic Honeybadger 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2019/><h6>Baltic Honeybadger 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bit-block-boom/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/><h6>Bit Block Boom</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bit-block-boom/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/2019/><h6>Bit Block Boom 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-core-dev-tech/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/><h6>Bitcoin Core Dev Tech</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoin-core-dev-tech/2015-02/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2015-02/><h6>Bitcoin Core Dev Tech 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2017-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2017-09/><h6>Bitcoin Core Dev Tech 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2018-03/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2018-03/><h6>Bitcoin Core Dev Tech 2018 (Mar)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2018-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2018-10/><h6>Bitcoin Core Dev Tech 2018 (Oct)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2019-06/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2019-06/><h6>Bitcoin Core Dev Tech 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2022-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2022-10/><h6>Bitcoin Core Dev Tech 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2023-04/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2023-04/><h6>Bitcoin Core Dev Tech 2023 (Apr)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2023-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2023-09/><h6>Bitcoin Core Dev Tech 2023 (Sept)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-core-dev-tech/2024-04/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/2024-04/><h6>Bitcoin Core Dev Tech 2024 (Apr)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/><h6>Bitcoin Design</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoin-design/learning-bitcoin-and-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/learning-bitcoin-and-design/><h6>Learning Bitcoin and Design</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-design/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/misc/><h6>Miscellaneous</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-design/ux-research/ class="nav-item my-1"><a class="nav-link p-0" href=/bitcoin-design/ux-research/><h6>UX Research</h6></a></li></ul></li><li data-nav-id=/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/><h6>Bitcoin Edge Dev++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/edgedevplusplus/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2017/><h6>Bitcoin Edge Dev++ 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/edgedevplusplus/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2018/><h6>Bitcoin Edge Dev++ 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/edgedevplusplus/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/edgedevplusplus/2019/><h6>Bitcoin Edge Dev++ 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-explained/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-explained/><h6>Bitcoin Explained</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-magazine/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-magazine/><h6>Bitcoin Magazine</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinops/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinops/><h6>Bitcoin Optech</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-review-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-review-podcast/><h6>Bitcoin Review Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/><h6>Bitcoin++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoinplusplus/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/2022/><h6>Bitcoin++ 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/layer-2/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/layer-2/><h6>Layer 2</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/onchain-privacy/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/onchain-privacy/><h6>Onchain Privacy</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoinology/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinology/><h6>Bitcoinology</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts/><h6>Bitcointranscripts</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/><h6>Blockchain Protocol Analysis Security Eng</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2017/><h6>Blockchain Protocol Analysis Security Engineering 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2018/><h6>Blockchain Protocol Analysis Security Engineering 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/blockstream-webinars/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockstream-webinars/><h6>Blockstream Webinars</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/boltathon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/boltathon/><h6>Boltathon</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/><h6>Breaking Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/breaking-bitcoin/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2017/><h6>Breaking Bitcoin 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2019/><h6>Breaking Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/brink/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/brink/><h6>Brinks</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/brink/the-bitcoin-development-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/brink/the-bitcoin-development-podcast/><h6>The Bitcoin Development Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/building-on-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/><h6>Building On Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/building-on-bitcoin/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/2018/><h6>Building On Bitcoin 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/c-lightning/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/c-lightning/><h6>c-lightning</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/chaincode-labs/><h6>Chaincode Labs</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/chaincode-labs/chaincode-podcast/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-podcast/><h6>Chaincode Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/chaincode-residency/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-residency/><h6>Chaincode Residency</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/chicago-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chicago-bitdevs/><h6>Chicago Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coindesk-consensus-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coindesk-consensus-2016/><h6>Coindesk Consensus</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coordination-of-decentralized-finance-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/><h6>Coordination of Decentralized Finance</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/coordination-of-decentralized-finance-workshop/2020-stanford/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/2020-stanford/><h6>2020 Stanford</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cppcon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/><h6>CPPcon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cppcon/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2017/><h6>CPPcon 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/cppcon/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2020/><h6>CPPcon 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cryptoeconomic-systems/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/><h6>Cryptoeconomic Systems</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cryptoeconomic-systems/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/2019/><h6>Cryptoeconomic Systems 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/dallas-bitcoin-symposium/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/dallas-bitcoin-symposium/><h6>Dallas Bitcoin Symposium</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/decentralized-financial-architecture-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/decentralized-financial-architecture-workshop/><h6>Decentralized Financial Architecture Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-developers-miners-meeting-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-developers-miners-meeting-2016/><h6>Developers-Miners Meeting</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/greg-maxwell/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/greg-maxwell/><h6>Greg Maxwell</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/grincon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/><h6>Grincon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/grincon/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/2019/><h6>Grincon 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/honey-badger-diaries/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/honey-badger-diaries/><h6>Honey Badger Diaries</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/iacr/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/iacr/><h6>IACR Crypto</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/la-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/la-bitdevs/><h6>LA Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/layer2-summit/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/><h6>Layer2 Summit</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/layer2-summit/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/2018/><h6>Layer2 Summit 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lets-talk-bitcoin-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lets-talk-bitcoin-podcast/><h6>Lets Talk Bitcoin Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/><h6>Lightning Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/lightning-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/2019/><h6>Lightning Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lightning-hack-day/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-hack-day/><h6>Lightning Hack Day</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-specification/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-specification/><h6>Lightning Specification</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/london-bitcoin-devs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/london-bitcoin-devs/><h6>London Bitcoin Devs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/magicalcryptoconference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/><h6>Magicalcryptoconference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/magicalcryptoconference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/2019/><h6>Magicalcryptoconference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/misc/><h6>Misc</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/><h6>MIT Bitcoin Expo</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2015/><h6>Mit Bitcoin Expo 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2016/><h6>Mit Bitcoin Expo 2016</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2017/><h6>MIT Bitcoin Expo 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2018/><h6>Mit Bitcoin Expo 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2019/><h6>Mit Bitcoin Expo 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2020/><h6>Mit Bitcoin Expo 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2021/><h6>Mit Bitcoin Expo 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2022/><h6>MIT Bitcoin Expo 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2024/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2024/><h6>MIT Bitcoin Expo 2024</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/munich-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/munich-meetup/><h6>Munich Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/noded-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/noded-podcast/><h6>Noded Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/><h6>Realworldcrypto</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/realworldcrypto/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2018/><h6>Realworldcrypto 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2021/><h6>Realworldcrypto 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/rebooting-web-of-trust/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/><h6>Rebooting Web Of Trust</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/rebooting-web-of-trust/2019-prague/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/2019-prague/><h6>2019 Prague</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/ruben-somsen/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/ruben-somsen/><h6>Ruben Somsen</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/satoshi-roundtable/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/><h6>Satoshi Roundtable</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/satoshi-roundtable/sr-004/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/sr-004/><h6>Sr 004</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/scalingbitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/><h6>Scaling Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/hong-kong-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/hong-kong-2015/><h6>Hong Kong (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/milan-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/milan-2016/><h6>Milan (2016)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/montreal-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/montreal-2015/><h6>Montreal (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/stanford-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/stanford-2017/><h6>Stanford (2017)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/tel-aviv-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tel-aviv-2019/><h6>Tel Aviv (2019)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/tokyo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tokyo-2018/><h6>Tokyo (2018)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/sf-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sf-bitcoin-meetup/><h6>SF Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/simons-institute/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/simons-institute/><h6>Simons Institute</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/><h6>Stanford Blockchain</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/stanford-blockchain-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2019/><h6>Stanford Blockchain Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2020/><h6>Stanford Blockchain Conference 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/stephan-livera-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stephan-livera-podcast/><h6>Stephan Livera Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/sydney-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sydney-bitcoin-meetup/><h6>Sydney Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tabconf/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/><h6>TABConf</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/tabconf/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/2021/><h6>TABConf 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tabconf/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/2022/><h6>TABConf 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/texas-bitcoin-conference-2014/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/texas-bitcoin-conference-2014/><h6>Texas Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tftc-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tftc-podcast/><h6>TFTC Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/verifiable-delay-functions/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/><h6>Verifiable Delay Functions</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/verifiable-delay-functions/vdf-day-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/vdf-day-2019/><h6>Vdf Day 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/vr-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/vr-bitcoin/><h6>VR Bitcoin</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/w3-blockchain-workshop-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/w3-blockchain-workshop-2016/><h6>W3 Blockchain Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/wasabi/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/wasabi/><h6>Wasabi Wallet</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/wasabi/research-club/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/wasabi/research-club/><h6>Wasabi Research Club</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/wasabi/podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/wasabi/podcast/><h6>Wasabikas Bitcoin Privacy Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/what-bitcoin-did-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/what-bitcoin-did-podcast/><h6>What Bitcoin Did Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky"><div class=docs-toc><nav id=TableOfContents><ul><li><ul><li><a href=#introduction>Introduction</a></li><li><a href=#the-mempool-and-fees>The mempool and fees</a></li><li><a href=#child-pays-for-parent-cpfp>Child Pays for Parent (CPFP)</a></li><li><a href=#how-miner-evaluate-fee-rates>How miner evaluate fee rates</a></li><li><a href=#why-is-it-hard-to-estimate-fee-rates>Why is it hard to estimate fee rates?</a></li><li><a href=#how-do-exchanges-estimate-fees>How do exchanges estimate fees?</a></li><li><a href=#will-the-mempool-empty-again>Will the mempool empty again?</a></li><li><a href=#minerpools-and-the-need-for-a-high-fee-environment>Miner/pools and the need for a high fee environment</a></li><li><a href=#replace-by-fee-rbf>Replace by Fee (RBF)</a></li><li><a href=#mempool-eviction-and-the-problems-it-can-cause>Mempool eviction and the problems it can cause</a></li><li><a href=#anchor-outputs-and-package-relay>Anchor Outputs and Package Relay</a></li><li><a href=#ways-to-use-the-blockspace-more-efficiently>Ways to use the blockspace more efficiently</a></li></ul></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><a href=/>Home</a>
&lt; <a href=/chaincode-labs/>Chaincode Labs
</a>&lt; <a href=/chaincode-labs/chaincode-podcast/>Chaincode Podcast
</a>&lt; Chaincode Decoded: Mempool<h1>Chaincode Decoded: Mempool</h1><p>Speakers:
<a href=/speakers/mark-erhardt>Mark Erhardt</a>, <a href=/speakers/adam-jonas>Adam Jonas</a></p><p><i>Date: April 26, 2021</i></p><p><i>Transcript By: varmur via review.btctranscripts.com</i></p><p>Tags:
<a href=/tags/anchor-outputs>Anchor outputs</a>, <a href=/tags/cpfp>Cpfp</a>, <a href=/tags/package-relay>Package relay</a>, <a href=/tags/rbf>Rbf</a></p><p>Category:
<a href=/categories/podcast>Podcast</a></p><p>Media:
<a href=https://podcasters.spotify.com/pod/show/chaincode/episodes/Chaincode-Decoded-Mempool---Episode-12-evn0q1>https://podcasters.spotify.com/pod/show/chaincode/episodes/Chaincode-Decoded-Mempool---Episode-12-evn0q1</a></p><h2 id=introduction>Introduction</h2><p>Adam Jonas: 00:00:00</p><p>Welcome to the Chaincode podcast.
I&rsquo;m here with Murch.
Today we&rsquo;re gonna jump into the mempool and that&rsquo;s a pun if you didn&rsquo;t get it.
Welcome to Chaincode decoded - the mempool.
The mempool, an area you are more than familiar with.
The mempool whisperer you&rsquo;ve been called.
Let&rsquo;s start with, what&rsquo;s the relationship between the mempool and fees?</p><h2 id=the-mempool-and-fees>The mempool and fees</h2><p>Mark Erhardt: 00:00:31</p><p>We often talk about the mempool, but there is no such thing as a global mempool, every full node has its own mempool.
The mempool is just the queue of transactions waiting to get confirmed, where confirmed means included in a block.
By default, block template builders will sort the waiting transactions by the highest effective fee rate, then pick from the top.
The juicier a transaction the quicker it gets confirmed.
Now especially in the last few months we&rsquo;ve seen that there was very large queues because we had a huge run up in the price - I haven&rsquo;t checked, but I think it&rsquo;s now about 120 days that we haven&rsquo;t cleared the mempool, maybe 110, since 15th of December.
Mempools are limited, by default they are limited to 300 megabytes of deserialized data.
That includes all the overhead structure, the previous UTXOs, maybe even the whole transaction that created UTXOs and so forth.
So roughly at about 80 blocks worth of data, the default of 300 megabytes gets exceeded, and at that point, a full node will automatically start purging the lowest fee rate transactions.
They just drop them and tell all their neighboring peers - &ldquo;hey, don&rsquo;t send me anything under this fee rate.&rdquo;
They start raising up their min fee rate.</p><h2 id=child-pays-for-parent-cpfp>Child Pays for Parent (CPFP)</h2><p>Mark Erhardt: 00:02:04</p><p>The problem that gets introduced here is if a parent transaction is no longer in the mempool, you cannot bump it - because if you try to do a CPFP and the parent isn&rsquo;t there, the child is going to be invalid.</p><p>Adam Jonas: 0:02:19</p><p><a href=https://bitcoinops.org/en/topics/cpfp/>CPFP</a> just for the uninitiated, (is) child pays for parent.</p><p>Mark Erhardt: 00:02:25</p><p>Some things that are being done in the context of that is that people are working on <a href=https://bitcoinops.org/en/topics/package-relay/>package relay</a>, where you can send more than one transaction to appear as a package that they evaluate as a whole together, instead of looking at the parent and saying - &ldquo;OK, you&rsquo;re out,&rdquo; and this child doesn&rsquo;t have a parent - &ldquo;OK, you&rsquo;re out too.&rdquo;</p><p>Adam Jonas: 00:02:45</p><p>Maybe you can just talk a little bit more about the mechanics of how CPFP actually works.</p><p>Mark Erhardt: 00:02:51</p><p>To get into a block, you bid on blockspace.
Transactions get serialized in a format where inputs are fairly big, outputs are smaller, there&rsquo;s a little bit of a transaction header that encodes how many inputs there are, outputs there are&mldr;</p><p>Adam Jonas: 00:03:08</p><p>And lock time and version&mldr;</p><p>Mark Erhardt: 00:03:10</p><p>We already found out that when miners build blocks, they sort transactions by the highest fee rate.
So they first consider the transactions that paid the most satoshis per byte of serialized data.</p><p>Adam Jonas: 00:03:24</p><p>So what are the mechanics of CPFP?</p><p>Mark Erhardt: 00:03:27</p><p>When you try to get a transaction through, sometimes they have a fee rate that is too low for it to be considered quickly.
You can re-prioritize your transaction by increasing its effective fee rate.
Now you cannot edit a transaction after you&rsquo;ve submitted it to the network because the transaction itself is immutable.
But what you can do is you can spend one of the outputs of the transactions with another child transaction that has a very high fee, and now the child transaction can only be valid by the parent getting included in the block.
So miners will look at transaction packages actually, they sort the waitlist by their ancestor fee rate of transactions, not just by transactions in the singular.
So when you have a child that is super juicy, it basically pays for the parent to get included as well.
So literally, child pays for parent.</p><p>Adam Jonas: 00:04:31</p><p>Got it.
Every parent&rsquo;s dream to have their children pay for them.</p><h2 id=how-miner-evaluate-fee-rates>How miner evaluate fee rates</h2><p>Adam Jonas: 00:04:34</p><p>You said that when miners evaluate these fee rates - is that built into Bitcoin Core or are they writing custom software for that?</p><p>Mark Erhardt: 00:04:43</p><p>Bitcoin Core has a <a href=https://developer.bitcoin.org/reference/rpc/getblocktemplate.html><code>getblocktemplate</code></a> call, which allows you to exactly do that, just generate a block template.
I believe that most miners are probably running custom code because, for example, they accept out of band payments to re-prioritize transactions, or they run their own wallet service on the side and always prioritize their own transactions, or they might have some sort of other solver that optimizes block template building further.
I haven&rsquo;t looked at this in detail, but I think that at least they&rsquo;re not running default values, because by default, blocks created by Bitcoin Core would leave a little space, I think about six kilobytes, and blocks are full, if you look at them.
So they must have at least tweaked it a little bit.</p><p>Adam Jonas: 00:05:32</p><p>When we say miners, we&rsquo;re talking about pools.</p><p>Mark Erhardt: 00:05:38</p><p>Yes, right.
Most miners, as in the people running ASICs or whatever, they just join a pool who does the coordination of the work, and the pool operator picks the block template that is being worked on, and the miner just gets a separate work-space that they iterate over in order to try to find a random block.</p><h2 id=why-is-it-hard-to-estimate-fee-rates>Why is it hard to estimate fee rates?</h2><p>Adam Jonas: 00:06:02</p><p>This problem sounds hard.
Why is it hard to estimate fee rates?</p><p>Mark Erhardt: 00:06:06</p><p>Block discovery is a random process.
Think of decay of radioactive isotopes.
What we do there is we can give you a half time - it usually takes around this much of time for half of the atoms to dissipate.
But we can&rsquo;t tell you if we look at a single atom when it&rsquo;s actually going to dissipate.
It might be immediately, it might be at the half time, it might take decades.
With blocks it&rsquo;s the same thing, they&rsquo;re in average coming in at I think about 9.7 minutes, but when the next block is going to be found is up to this random Poisson process.
Actually, it is such that since there is no memory to the process, every draw just has a chance to succeed.
At every point in time, the next block is about 10 minutes away, on average.</p><p>Adam Jonas: 00:07:02</p><p>Yeah, it&rsquo;s really unintuitive to think about that.</p><p>Mark Erhardt: 00:07:04</p><p>Right.</p><p>Adam Jonas: 00:07:05</p><p>Even if you&rsquo;re 18 minutes into not finding a block, the next block will be found in 10 minutes?</p><p>Mark Erhardt: 00:07:11</p><p>Yes, exactly.
You don&rsquo;t know when the next block is going to be found, so you don&rsquo;t know what transactions you will be competing against.
You might be competing against the transactions that are currently in the mempool, plus the transactions that get added in the next one minute.
You might be competing against the transactions in the mempool plus 10 minutes, or plus 60 minutes, because about once a day there&rsquo;s a block that takes 60 minutes.
You have this one shot to pick exactly the right fee rate - to slide in at the bottom of the block that you want to be in.
Because if you don&rsquo;t slide in at the bottom of the block, you&rsquo;re overpaying, and if you underestimate, you&rsquo;re not going to get confirmed in the time that you were aiming to be confirmed.</p><p>Adam Jonas: 00:07:52</p><p>How do exchanges usually do this?
Are they overpaying?
Are they just estimating the upper end?
Maybe like who&rsquo;s paying those fees?</p><h2 id=how-do-exchanges-estimate-fees>How do exchanges estimate fees?</h2><p>Mark Erhardt: 00:08:01</p><p>Right.
So there&rsquo;s different scenarios.
Some exchanges have different tiers, like low time preference and high time preference or whatever, and they treat those differently.
Generally, most exchanges by now batch their withdrawals, which gives them a way to leverage their scale.
So if you&rsquo;re sending to 20 people every minute, making one transaction out of that is a lot cheaper than making 20 separate payments.
It&rsquo;s also much easier to manage your UTXO pool that way.
Then they just tend to very conservatively estimate their fees, just be in the next two blocks and maybe rather overpay slightly, because it&rsquo;s so much less work to deal with all the customer complaints over stuck transactions than to overpay by 30% to be in the next block.</p><p>Adam Jonas: 00:08:56</p><p>It&rsquo;s not them that&rsquo;s overpaying though.
Usually that gets passed on to the customer.</p><p>Mark Erhardt: 00:09:01</p><p>There&rsquo;s different models.
I think in most the exchange pays, but they take a flat fee for withdrawal.</p><p>Adam Jonas: 00:09:10</p><p>Oh, really?</p><p>Mark Erhardt: 00:09:10</p><p>Yeah.
Bitstamp for a very long time, for example, had I think a 90 euro cent flat withdrawal fee, but then they&rsquo;d batch every few minutes only.</p><h2 id=will-the-mempool-empty-again>Will the mempool empty again?</h2><p>Adam Jonas: 00:09:23</p><p>You said that the mempool hasn&rsquo;t really been empty for almost four months.</p><p>Mark Erhardt: 00:09:27</p><p>Yeah, that&rsquo;s correct.</p><p>Adam Jonas: 00:09:28</p><p>Is it ever going to empty again?
As we go to the moon, what happens to the mempool?</p><p>Mark Erhardt: 00:09:34</p><p>Yeah, that&rsquo;s a great question.
I think we&rsquo;ll eventually see a mempool empty again, but there should probably be a long tail end to it emptying, because now in these four months, a lot of the exchanges that usually would do consolidations to keep the UTXO pool size manageable, they haven&rsquo;t been able to get any of those through.
So when the fee rates go down now, I think that we&rsquo;ll see more people put in their consolidation transactions at three to five satoshis per byte.
I think we might not see an empty mempool for multiple months still, even if the top fee rates get a lot more relaxed now.
Generally, the competition to be in blocks seems to correlate with volatility and especially price rises, when the market heats up and people are more excited to trade, there&rsquo;s more transaction volume on the network.
Now we&rsquo;ve seen in the past four weeks or so, the price has been going more sideways.
There might have been even small dips here and there.
The top fee rates have come down - on the weekends, it&rsquo;s dropped first to seven satoshi per byte, then six, and now last weekend six was cleared completely.
I don&rsquo;t think that getting a one satoshi per byte transaction through will be possible any time soon, but it&rsquo;ll be very possible to wait to the weekend to get a ten Satoshi per byte transaction.</p><h2 id=minerpools-and-the-need-for-a-high-fee-environment>Miner/pools and the need for a high fee environment</h2><p>Adam Jonas: 00:11:04</p><p>Maybe from a more meta view, don&rsquo;t the miners like this?
Don&rsquo;t they like having high fees?
Because one, it&rsquo;s revenue for them, but also, as we sort of zoom out, we think about the decreasing block reward over time, don&rsquo;t we have to have a high fee environment in order for this system to work?</p><p>Mark Erhardt: 00:11:23</p><p>On the one hand, you have to also consider that the exchange rate 10x&rsquo;ed in the last year.
So the same fee rates represent a 10x purchasing value in cost for getting essentially the same service, a transaction into a block.
So while the fee rates are similar, the cost of getting a transaction through has actually increased.
The miners do love it because - I think fee rates make about 17% or so of the block reward right now, so that&rsquo;s a nice little tip, right?
There is definitely a concern that when we continue to reduce the block subsidy, every four year halving reward schedule, that eventually the system will have to subsist just on transaction fees.
If the transaction fees are too low, it will basically not be economic for miners to provide security to the Bitcoin system.
So there is a good argument for not increasing the blockspace to a degree where it&rsquo;s always going to be empty.
If you want to do that, you essentially have to also switch to an endless block subsidy.
Otherwise, there is no economic incentive for miners to continue mining if there&rsquo;s not enough fees.
Unless your minimum fee rate at some point becomes so valuable that even at minimum fee rate, any transactions are sufficient revenue for miners to continue their business.</p><p>Adam Jonas: 00:13:02</p><p>Maybe we can sort of circle back to what happens when transactions are evicted from the mempool, and talk about what problems that could introduce, especially for fee bumping and lightning channel closing.</p><p>Mark Erhardt: 00:13:22</p><p>Right.
When a mempool fills up, as we said earlier, the node will start dropping the lowest fee rate transactions.
Especially for people or services that use unconfirmed inputs, that can be a problem at times because you cannot spend an input that is unknown to other nodes.
If all other nodes on a network have dropped a transaction, your follow-up transaction that spends the output from that dropped transaction will not be able to relay on the network.
So you cannot only not spend your funds, but you can also not re-prioritize the prior transaction.
One thing that solves this is RBF because you can just rewrite a replaceable transaction and submit a transaction with a higher fee rate.</p><h2 id=replace-by-fee-rbf>Replace by Fee (RBF)</h2><p>Adam Jonas: 00:14:09</p><p>Alright, so we went over CPFP, can we go over <a href=https://bitcoinops.org/en/topics/replace-by-fee/>RBF</a>?</p><p>Mark Erhardt: 00:14:11</p><p>Sure.
<a href=https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki>BIP-125</a> introduces rules by which you are allowed to replace transactions.
You have to explicitly signal that a transaction is replaceable, and in that case, before a transaction is confirmed, the sender may issue an updated version of the transaction, which can completely change the outputs.
The only restriction is that it has to use one of the same inputs, otherwise it wouldn&rsquo;t be a replacement, so it has to be a conflicting transaction, essentially.
Additionally, it has to pay enough fees to replace the prior transaction and all the transactions that chained off of them in the mempool.
So if you had three transactions you have to pay more fees and the replacement than those three transactions together.</p><p>Adam Jonas: 00:15:05</p><p>Got it.
So blessed double spending is what we&rsquo;re saying.</p><p>Mark Erhardt: 00:15:09</p><p>I do not like the term double spending in that context.
The problem with that is a successful double spend means that either you actually got two transactions that were in conflict confirmed, which could basically only happen if you have two competing blocks, where one block had a prior version and the second block had another, and then the second block eventually becomes part of the best chain.
Or when you at least convince somebody that they had been paid, but then actually managed to spend the funds somewhere else.
But here in this case, RBF transactions are explicitly labeling themselves as replaceable.
Basically they&rsquo;re running around with a red lettered sign on front of their chest - &ldquo;do not trust me&rdquo;, right?
Most wallet software just doesn&rsquo;t show you RBF transactions until they are confirmed.
Once confirmed in the blockchain, they&rsquo;re exactly the same reliability as any other transaction, but while queuing, they are explicitly saying - &ldquo;look, I could be replaced, do not consider yourself paid.&rdquo;
So calling this a double spend is just saying that, well, somebody made extremely unreasonable assumptions about the reliability of a transaction that explicitly warned them that it&rsquo;s not reliable.
So I like &ldquo;conflicting transactions&rdquo; more in this context.</p><p>Adam Jonas: 00:16:35</p><p>Why do we need two ways to bump fees?
Why do we need RBF and CPFP?</p><p>Mark Erhardt: 00:16:40</p><p>Right, they have slightly different trade-offs.
CPFP allows any recipient of a transaction to bump it.
That could be the recipient, the person that got paid, or the sender if there was a change output on the transaction.
It also doesn&rsquo;t change the TXID because you&rsquo;re just chaining other transactions on it, and it takes more blockspace, right?
Because you now have to send a second transaction in order to increase the effective fee rate of the first.
So more blockspace, easier to keep track of, and more flexibility - as in there&rsquo;s more parties that can interact with it.
RBF on the other hand allows you to completely replace the transaction, which means that it is more flexible, but you potentially have to pay more fees, especially if somebody else chained off of your transaction already.
It changes the TXID and a lot of wallets and services have been tracking payments by the TXID rather than looking at what address got paid, what the amount was, or whatever, as in treating Bitcoin addresses as invoices as they should be used.
They built a whole system around TXIDs.
So RBF transactions change the inputs or outputs, otherwise they couldn&rsquo;t change the fees.
That means that they have a new TXID and it is not trivial to keep proper track of that, and to update your UX and UI to make that easily accessible to your users.
Also only the sender can bump a transaction doing that because they have to reissue the updated variant of the transaction.
Given that it is a little more difficult to interact with RBF transactions, a lot of services only see them once they&rsquo;re confirmed, once they&rsquo;re reliable.
So if you&rsquo;re trying to get a service to give you something very quickly, you might want to choose to not do an RBF transaction in the first place so that they can reasonably assume that this has a high enough fee rate and we know the user, we can trust them that they&rsquo;re sending us these $3 and give them access to that song or whatever.</p><h2 id=mempool-eviction-and-the-problems-it-can-cause>Mempool eviction and the problems it can cause</h2><p>Adam Jonas: 00:19:04</p><p>Got it.
Okay so we asked the question, what problems do mempool eviction cause for fee bumping?
And also the Lightning channel closing use case?</p><p>Mark Erhardt: 00:19:15</p><p>We talked a bit generically about how parent transactions being gone stops you from being able to spend those unconfirmed outputs.
This is especially a problem in the context of Lightning, because when you close a Lightning channel, it&rsquo;s either the collaborative case where you have no problem because you can renegotiate the closing transaction with your partner, but where you really need it, you&rsquo;re trying to unilaterally close because your channel partner hasn&rsquo;t shown up at all.
Then you have to fall back to the transaction that you had negotiated some time in the past, when you last updated the commitment transaction.
Let&rsquo;s say that was in a low fee rate time and now the fee rates have exploded, and you can&rsquo;t actually even broadcast the commitment transaction to the network because it&rsquo;s too low fee rate.
The problem is the party that is closing the Lightning Channel under the LN penalty update mechanism, their funds are actually locked with a CSV (<code>OP_CHECKSEQUENCEVERIFY</code>).
So they can&rsquo;t do CPFP because the output is only spendable after the transaction is confirmed for multiple blocks.
So you can&rsquo;t chain a transaction to a output that is not spendable while it&rsquo;s still unconfirmed.
Especially for Lightning, the volatility in the blockspace market introduces a headache because you can literally come into a situation where you can&rsquo;t close your Lightning channel due to the fee rate.</p><h2 id=anchor-outputs-and-package-relay>Anchor Outputs and Package Relay</h2><p>Mark Erhardt: 00:20:49</p><p>One approach I&rsquo;ve heard about is to introduce <a href=https://bitcoinops.org/en/topics/anchor-outputs/>anchor outputs</a>, which are, depending on the proposal, either spendable by either side or spendable under certain conditions, but they&rsquo;re immediately spendable so they can be CPFPed.
Another idea is to have package relay.
Because if the channel closing transaction has a low fee rate and you can then relay it together with a second transaction, that&rsquo;ll work, except if you&rsquo;re unilaterally closing, because the CSV issue still pertains to that.
Either way, if you get package relay, you would be able to do away with the fee estimate and commitment transactions altogether because we talked about how fee estimation is hard for regular transactions.
Fee estimation for commitment transactions is even much harder because you have no clue when you will want to use the transaction.</p><p>Adam Jonas: 00:21:46</p><p>Yeah, that dependency seems very scary.</p><p>Mark Erhardt: 00:21:49</p><p>Right, you have absolutely no clue what the fee rates will be like when you actually try to use it.
So having package relay in combination with anchor outputs would allow you to always have a zero fee on the commitment transaction, and then basically always bring your own fee when you broadcast it in the CPFP child transaction.</p><h2 id=ways-to-use-the-blockspace-more-efficiently>Ways to use the blockspace more efficiently</h2><p>Adam Jonas: 00:22:10</p><p>Got it.
So we&rsquo;ve sort of talked about some specifics, but maybe we can zoom out.
What are some ways that we could be using our blockspace more efficiently?
What are some things that make us optimistic about the future?</p><p>Mark Erhardt: 00:22:22</p><p>We still have only about, I think 40% or so SegWit inputs.
Now about 55% of all transactions use SegWit inputs, but the majority of inputs are still non-SegWit.
Once more people start using SegWit or even Taproot, once Taproot comes out, the input sizes will be smaller, so naturally there will be more space for more transactions.
Recently a major wallet service provider, announced on 1st of April nonetheless, that they would be switching to native SegWit addresses, and they had been a long holdout.
So blockchain.com has probably around 33 percent of all transaction creations among their user base.</p><p>Adam Jonas: 00:23:06</p><p>Yeah, I mean that dependency is, we&rsquo;re shaking our heads simultaneously.
It&rsquo;s not great.</p><p>Mark Erhardt: 00:23:14</p><p>SegWit activated on 24th of August in 2017, right?
That&rsquo;s three and a half years ago.
Until recently, I think they weren&rsquo;t even able to send to native SegWit addresses and now they announced that they&rsquo;ll actually default to native SegWit addresses altogether.
I think they claimed this month, but I&rsquo;m hoping that they&rsquo;ll come through with that, because we have a huge backlog of all these outputs that they created over the years.
It has been one of the most popular Bitcoin wallets for almost a decade, and it will take forever for all of these non-SegWit outputs to eventually get spent.
The observation is that most inputs are consuming very young outputs, so funds that got moved are much more likely to move again soon.
Seeing that blockchain.com will hopefully switch to native SegWit outputs soon, I would assume that even while the UTXO set will have a lot of non-SegWit outputs living there for a very long time, the transactions that get built will much quicker become SegWit transactions to a high degree.
If 33% of all transactions, let&rsquo;s say 80% of them become SegWit inputs and literally more than half their input size, that would be, I want to say, like 15% of the current blockspace demand going away overnight?</p><p>Adam Jonas: 00:24:51</p><p>Yeah,that would be nice.</p><p>Mark Erhardt: 00:24:52</p><p>I should do the calculation more thoroughly, but&mldr;</p><p>Adam Jonas: 00:24:56</p><p>Are there other holdouts?</p><p>Mark Erhardt: 00:24:57</p><p>Bitmex recently switched to native SegWit, I think, for deposits.
There&rsquo;s still quite a few services that use wrapped SegWit rather than native SegWit, which already gets most of the efficiency, but clearly not all.
It was expecting that the high fee rates might get more people moving.
I think that the Taproot rollout might get a huge blockspace efficiency gain, because Taproot introduces a bunch of new features that are only available through Taproot, and Taproot outputs and inputs are about the size of Pay-to-Witness-Public-Key-Hash in total.
So smaller than a lot of the multi-sig constructions these days even in native SegWit, and definitely smaller than everything non-SegWit.
So any wallets that switch to Taproot will bring down the blockspace use a lot quickly.</p><p>Adam Jonas: 00:25:53</p><p>Yeah, the multi-sig savings are pretty significant, and hopefully it&rsquo;ll bring in a new era of multi-sig being more standard.
I think that&rsquo;s a more exciting thing.</p><p>Mark Erhardt: 00:26:02</p><p>It&rsquo;ll take quite some time because to do the public key aggregation that will bring the biggest efficiency gain, people will actually have to implement MuSig or another aggregation algorithm, and until that gets into regular wallets will be a while.
I think maybe first it gets into libraries.
Especially for services with multi-sig wallets, there would be a huge efficiency gain there and they should have great incentives to roll it out very quickly.</p><p>Adam Jonas: 00:26:40</p><p>Thanks for listening to another episode of Chaincode Decoded and we&rsquo;re going to keep it rolling.
We&rsquo;ll have another one next week.</p><p>Mark Erhardt: 00:26:46</p><p>Yeah, let&rsquo;s talk about maybe how the blockchain works.</p><p>Adam Jonas: 00:26:49</p><p>Going back to basics.
See you next time.</p><div class=row></div></div></div></div><script src=https://btctranscripts.com/lib/jquery.min.js></script><script src=https://btctranscripts.com/lib/popper.min.js></script><script src=https://btctranscripts.com/js/bootstrap.min.js></script><script type=text/javascript src=/plugins/lunr.min.js></script><script type=text/javascript src=/plugins/auto-complete.js></script><link href=/plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://btctranscripts.com/"</script><script type=text/javascript src=/plugins/search.js></script><script type=text/javascript src=https://btctranscripts.com/js/custom.js></script><script type=text/javascript src=/plugins/clipboard.js></script><script>new ClipboardJS(".btn")</script></body></html>