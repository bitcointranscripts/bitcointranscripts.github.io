<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=https://btctranscripts.com/stanford-blockchain-conference/2020/competitive-equilibria-staking-lending/><title>Competitive Equilibria Staking Lending | ₿itcoin Transcripts</title><link href=https://btctranscripts.com/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=https://btctranscripts.com/css/ace.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://btctranscripts.com/images/btctranscripts.png"><meta name=twitter:title content="Competitive Equilibria Staking Lending"><meta name=twitter:description content="Competitive equilibria between staking and on-chain lending
Tarun Chitra
https://twitter.com/kanzure/status/1230581977289379840
https://arxiv.org/pdf/2001.00919v1.pdf
See also &ldquo;Stress testing decentralized finance&rdquo; https://diyhpl.us/wiki/transcripts/coordination-of-decentralized-finance-workshop/2020-stanford/stress-testing-decentralized-finance/
Introduction There have been some odd finanical attacks in the DeFi space and also on staking. This talk aims to show that the threat model for staking is definitively different from that of proof-of-work, and these financial attacks need to be part of the threat model.
Agenda I&rsquo;ll go over some high level overview of intuitive market dynamics, then we will build up an agent-based model that correctly goes across multiple participants to stress test staking situations, then we go through the various assumptions, and at a high-level I&rsquo;ll give some formal probability statements without proofs, and finally I have simulation results to discuss which can give you some idea about how to design a monetary policy."></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=/>₿itcoin Transcripts</a></div><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/es>es</a></li><li class=nav-item><a class=nav-link href=/pt>pt</a></li><li class=nav-item><a class=nav-link href=https://github.com/bitcointranscripts/bitcointranscripts target=_blank><i class='fab fa-github'></i></a></li></ul></div></div></nav><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder='Search (press "/")'></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/adopting-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/><h6>Adopting Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/adopting-bitcoin/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/adopting-bitcoin/2021/><h6>Adopting Bitcoin 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/advancing-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/><h6>Advancing Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/advancing-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2019/><h6>Advancing Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2020/><h6>Advancing Bitcoin 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/advancing-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/advancing-bitcoin/2022/><h6>Advancing Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/andreas-antonopoulos/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/andreas-antonopoulos/><h6>Andreas Antonopoulos</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/austin-bitcoin-developers/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/austin-bitcoin-developers/><h6>Austin Bitcoin Developers</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/><h6>Baltic Honeybadger</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/baltic-honeybadger/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2018/><h6>Baltic Honeybadger 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/baltic-honeybadger/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/baltic-honeybadger/2019/><h6>Baltic Honeybadger 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bit-block-boom/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/><h6>Bit Block Boom</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bit-block-boom/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bit-block-boom/2019/><h6>Bit Block Boom 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-core-dev-tech/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/><h6>Bitcoin Core Dev Tech</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoin-core-dev-tech/bitcoin-devcore-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-core-dev-tech/bitcoin-devcore-2015/><h6>Bitcoin Devcore Meetup (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoin-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-design/><h6>Bitcoin Design</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-magazine/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-magazine/><h6>Bitcoin Magazine</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/><h6>Bitcoin++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoinplusplus/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinplusplus/2022/><h6>Bitcoin++ 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcoinology/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinology/><h6>Bitcoinology</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoinops/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoinops/><h6>Bitcoinops</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcoinops/schnorr-taproot-workshop-2019/ class="nav-item my-1"><a class="nav-link p-0" href=/bitcoinops/schnorr-taproot-workshop-2019/><h6>Schnorr Taproot Workshop 2019</h6></a></li></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/><h6>Blockchain Protocol Analysis Security Eng</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2017/><h6>Blockchain Protocol Analysis Security Engineering 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/blockchain-protocol-analysis-security-engineering/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockchain-protocol-analysis-security-engineering/2018/><h6>Blockchain Protocol Analysis Security Engineering 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/blockstream-webinars/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/blockstream-webinars/><h6>Blockstream Webinars</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/boltathon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/boltathon/><h6>Boltathon</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/><h6>Breaking Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/breaking-bitcoin/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2017/><h6>Breaking Bitcoin 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/breaking-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/breaking-bitcoin/2019/><h6>Breaking Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/building-on-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/><h6>Building On Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/building-on-bitcoin/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/building-on-bitcoin/2018/><h6>Building On Bitcoin 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/c-lightning/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/c-lightning/><h6>c-lightning</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/><h6>Chaincode Labs</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/chaincode-labs/chaincode-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-podcast/><h6>Chaincode Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/chaincode-labs/chaincode-residency/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chaincode-labs/chaincode-residency/><h6>Chaincode Residency</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/chicago-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/chicago-bitdevs/><h6>Chicago Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coindesk-consensus-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coindesk-consensus-2016/><h6>Coindesk Consensus</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/coordination-of-decentralized-finance-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/><h6>Coordination of Decentralized Finance</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/coordination-of-decentralized-finance-workshop/2020-stanford/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/coordination-of-decentralized-finance-workshop/2020-stanford/><h6>2020 Stanford</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cppcon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/><h6>CPPcon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cppcon/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2017/><h6>CPPcon 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/cppcon/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cppcon/2020/><h6>CPPcon 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/cryptoeconomic-systems/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/><h6>Cryptoeconomic Systems</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/cryptoeconomic-systems/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/cryptoeconomic-systems/2019/><h6>Cryptoeconomic Systems 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/dallas-bitcoin-symposium/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/dallas-bitcoin-symposium/><h6>Dallas Bitcoin Symposium</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/decentralized-financial-architecture-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/decentralized-financial-architecture-workshop/><h6>Decentralized Financial Architecture Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcoin-developers-miners-meeting-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcoin-developers-miners-meeting-2016/><h6>Developers-Miners Meeting</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/greg-maxwell/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/greg-maxwell/><h6>Greg Maxwell</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/grincon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/><h6>Grincon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/grincon/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/grincon/2019/><h6>Grincon 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/honey-badger-diaries/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/honey-badger-diaries/><h6>Honey Badger Diaries</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/iacr/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/iacr/><h6>IACR Crypto</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/la-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/la-bitdevs/><h6>LA Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/layer2-summit/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/><h6>Layer2 Summit</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/layer2-summit/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/layer2-summit/2018/><h6>Layer2 Summit 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lets-talk-bitcoin-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lets-talk-bitcoin-podcast/><h6>Lets Talk Bitcoin Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/><h6>Lightning Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/lightning-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-conference/2019/><h6>Lightning Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/lightning-hack-day/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-hack-day/><h6>Lightning Hack Day</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/lightning-specification/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/lightning-specification/><h6>Lightning Specification</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/london-bitcoin-devs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/london-bitcoin-devs/><h6>London Bitcoin Devs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/magicalcryptoconference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/><h6>Magicalcryptoconference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/magicalcryptoconference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/magicalcryptoconference/2019/><h6>Magicalcryptoconference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/misc/><h6>Misc</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/><h6>MIT Bitcoin Expo</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2015/><h6>Mit Bitcoin Expo 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2016/><h6>Mit Bitcoin Expo 2016</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2017/><h6>Mit Bitcoin Expo 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2018/><h6>Mit Bitcoin Expo 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2019/><h6>Mit Bitcoin Expo 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2020/><h6>Mit Bitcoin Expo 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/mit-bitcoin-expo/mit-bitcoin-expo-2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/mit-bitcoin-expo/mit-bitcoin-expo-2021/><h6>Mit Bitcoin Expo 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/munich-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/munich-meetup/><h6>Munich Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/noded-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/noded-podcast/><h6>Noded Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/><h6>Realworldcrypto</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/realworldcrypto/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2018/><h6>Realworldcrypto 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/realworldcrypto/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/realworldcrypto/2021/><h6>Realworldcrypto 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/rebooting-web-of-trust/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/><h6>Rebooting Web Of Trust</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/rebooting-web-of-trust/2019-prague/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/rebooting-web-of-trust/2019-prague/><h6>2019 Prague</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/ruben-somsen/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/ruben-somsen/><h6>Ruben Somsen</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/satoshi-roundtable/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/><h6>Satoshi Roundtable</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/satoshi-roundtable/sr-004/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/satoshi-roundtable/sr-004/><h6>Sr 004</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/scalingbitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/><h6>Scaling Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/hong-kong-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/hong-kong-2015/><h6>Hong Kong (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/milan-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/milan-2016/><h6>Milan (2016)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/montreal-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/montreal-2015/><h6>Montreal (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/scalingbitcoin/stanford-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/stanford-2017/><h6>Stanford (2017)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/stanford-2017/edgeplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/stanford-2017/edgeplusplus/><h6>Edgeplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/scalingbitcoin/tel-aviv-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tel-aviv-2019/><h6>Tel Aviv (2019)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/tel-aviv-2019/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tel-aviv-2019/edgedevplusplus/><h6>Edgedevplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/scalingbitcoin/tokyo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tokyo-2018/><h6>Tokyo (2018)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/scalingbitcoin/tokyo-2018/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/scalingbitcoin/tokyo-2018/edgedevplusplus/><h6>Edgedevplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li></ul></li><li data-nav-id=/sf-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sf-bitcoin-meetup/><h6>SF Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/simons-institute/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/simons-institute/><h6>Simons Institute</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/><h6>Stanford Blockchain</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/stanford-blockchain-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2019/><h6>Stanford Blockchain Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/stanford-blockchain-conference/2020/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/stanford-blockchain-conference/2020/><h6>Stanford Blockchain Conference 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/stephan-livera-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/stephan-livera-podcast/><h6>Stephan Livera Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/sydney-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/sydney-bitcoin-meetup/><h6>Sydney Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tabconf/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/><h6>TABConf</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/tabconf/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tabconf/2021/><h6>TABConf 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/texas-bitcoin-conference-2014/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/texas-bitcoin-conference-2014/><h6>Texas Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/tftc-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/tftc-podcast/><h6>TFTC Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/verifiable-delay-functions/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/><h6>Verifiable Delay Functions</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/verifiable-delay-functions/vdf-day-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/verifiable-delay-functions/vdf-day-2019/><h6>Vdf Day 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/vr-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/vr-bitcoin/><h6>VR Bitcoin</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/w3-blockchain-workshop-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/w3-blockchain-workshop-2016/><h6>W3 Blockchain Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/wasabi-research-club/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/wasabi-research-club/><h6>Wasabi Research Club</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/what-bitcoin-did-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/what-bitcoin-did-podcast/><h6>What Bitcoin Did Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky"><div class=docs-toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#agenda>Agenda</a></li><li><a href=#overview>Overview</a></li><li><a href=#gedanken-and-lending>Gedanken and lending</a></li><li><a href=#proof-of-work>Proof-of-work</a></li><li><a href=#rational-users>Rational users</a></li><li><a href=#on-chain-lending>On-chain lending</a></li><li><a href=#proof-of-stake-model>Proof-of-stake model</a></li><li><a href=#assumptions>Assumptions</a></li><li><a href=#goal-of-chosen-model-assumptions>Goal of chosen model assumptions</a></li><li><a href=#lending-assumptions>Lending assumptions</a></li><li><a href=#formal-proofs>Formal proofs</a></li><li><a href=#key-results>Key results</a></li><li><a href=#variables>Variables</a></li><li><a href=#lending-supply-volatility-uniformly-bounds-stake-outflows>Lending supply volatility uniformly bounds stake outflows</a></li><li><a href=#simulation-results>Simulation results</a></li><li><a href=#conclusions>Conclusions</a></li><li><a href=#future-work>Future work</a></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><a href=/>Home</a>
&lt; <a href=/stanford-blockchain-conference/>Stanford Blockchain</a>
&lt; <a href=/stanford-blockchain-conference/2020/>Stanford Blockchain Conference 2020</a>
&lt; Competitive Equilibria Staking Lending<h1>Competitive Equilibria Staking Lending</h1><p><i>Transcript By: Bryan Bishop</i></p><p>Tags:
<a href=/tags/attacks>Attacks</a>, <a href=/tags/proof-of-work>Proof of work</a></p><p>Category:
<a href=/categories/conference>Conference</a></p><p>Competitive equilibria between staking and on-chain lending</p><p>Tarun Chitra</p><p><a href=https://twitter.com/kanzure/status/1230581977289379840>https://twitter.com/kanzure/status/1230581977289379840</a></p><p><a href=https://arxiv.org/pdf/2001.00919v1.pdf>https://arxiv.org/pdf/2001.00919v1.pdf</a></p><p>See also &ldquo;Stress testing decentralized finance&rdquo; <a href=https://diyhpl.us/wiki/transcripts/coordination-of-decentralized-finance-workshop/2020-stanford/stress-testing-decentralized-finance/>https://diyhpl.us/wiki/transcripts/coordination-of-decentralized-finance-workshop/2020-stanford/stress-testing-decentralized-finance/</a></p><h1 id=introduction>Introduction</h1><p>There have been some odd finanical attacks in the DeFi space and also on staking. This talk aims to show that the threat model for staking is definitively different from that of proof-of-work, and these financial attacks need to be part of the threat model.</p><h1 id=agenda>Agenda</h1><p>I&rsquo;ll go over some high level overview of intuitive market dynamics, then we will build up an agent-based model that correctly goes across multiple participants to stress test staking situations, then we go through the various assumptions, and at a high-level I&rsquo;ll give some formal probability statements without proofs, and finally I have simulation results to discuss which can give you some idea about how to design a monetary policy.</p><h1 id=overview>Overview</h1><p>Proof-of-stake claims to have a similar security model to proof-of-work, but in a lot of ways the entire security of the network depends on the total quantity staked as well as the relative value of that staked asset. The relative value means you need to make sure there&rsquo;s not alternative mechanism for yield outside of staking and fees.</p><p>On the other hand, on-chain lending allows token-denominated access to liquidity. The on-chain lending market grew from less than $10m in 2018 to roughly $1b today. It has grown significantly, as crypto lending in general has. The key to this is that you have purely on-chain access to non-censorable loans.</p><p>In some sense, the security of these proof-of-stake networks can be eroded by on-chain lending and incentives.</p><h1 id=gedanken-and-lending>Gedanken and lending</h1><p>Suppose you have a proof-of-stake asset securing a smart contract platform, with on-chain lending on top of this platform. The contract allows people to borrow and lend people at algorithmically determined interest rates. We assume that greater than 50% of users are rational, and we expect them to be utility maximizers. What happens when the interest rate from the lending contract is significantly greater than the staking rate? If you&rsquo;re rational, then 50% of the users are going to move their stake and move into lending.</p><p>How could this happen? When the price of p crashes relative to a secured asset like dollars or bitcoin, the demand to short the asset will go up. When the demand to short goes up, borrowing interest rate goes up, and then lending interest rate goes up, and this leads to a deflationary spiral. This is the high-level idea. But would this actually happen- can this happen? As Bram pointed out, there&rsquo;s been a number of attacks in the last week proving that there&rsquo;s rational actors and when there&rsquo;s enough money in the on-chain ecosystem then people will start taking advantage of it.</p><p>Why restrict to decentralized lending and not centralized&mldr;? The decentralization means you can&rsquo;t really stop people from moving their stake and taking this yield. That&rsquo;s the difference. Also, the fees for doing this attack should probably spike around the time it&rsquo;s happening. While that&rsquo;s true, it&rsquo;s actually quite hard to predict miner and validator behavior with resspect to transaction fees. There was a paper that shows the strategy space is actually quite complicated and has a complex phase diagram.</p><p>Exchanges and validators won&rsquo;t let this happen? Well at that point why not have the exchange run a database for you.</p><p>The other question is do rational actors exist- and the flash loan stuff in the past weeks has shown this. This is a bank run on the proof-of-stake network.</p><h1 id=proof-of-work>Proof-of-work</h1><p>Why doesn&rsquo;t this happen in proof-of-work? It&rsquo;s secured by miner-extractable value which has been analyzed a variety of ways. There&rsquo;s two components: the hashpower mining the block, and also the economics and fees of the proof-of-work asset. The components aren&rsquo;t interoperable, you need an exoogenous asste like a hashrate derivative or an oracle to connect the proof-of-work asset to the hashrate directly. In proof-of-stake, that&rsquo;s not true because the same asset is used to stake the network as for transaction fees. This is by design. In the first bitcointalk.org posts on proof-of-stake, the idea was to take a limit on constantly reinvested proof-of-work where you earn fees with virtualized hashrate. You can&rsquo;t trustlessly lend proof-of-work security, but you can for proof-of-stake security.</p><h1 id=rational-users>Rational users</h1><p>We can kind of go to models from finance to see how people model cascading failures and bank runs. The thought experiment reveals a secret: in some sense, rational actors are solving a portfolio allocation problem with staking. They are saying they have a portfolio of stake coins and there&rsquo;s k ways to make yield, and some of those ways include staking, other ways might include lending, and other things like staking derivatives. A rational actor is constantly rebalancing their portfolio. Say everyone views a portfolio as staked assets and lent assets. We model agents as having different types of risk profiles.</p><p>When you&rsquo;re very risky, one risk profile is to have a rebalance policy where the moment the interest rate spikes then you move all your assets immediately. A more risk adverse user of the system would maybe say oh okay look well if the interest rate in the lending contract is only 5% greater than the staking contract, then I will only move 5% of my assets.</p><p>One of the simplest ways of modeling reallocation is modern portfolio theory pioneered by Markowitz in 1953 (1963?). This is how ETFs portfolios rebalance and so on. It only requires two real inputs. One is the alphas- the expected returns over the next period, and the other is a covariance between the assets and the volatility of the assets themselves. You solve this problem by having a strictly convex function where the value x is the portfolio weight- it&rsquo;s like a vector on the probabilities simplex, it tells you the proportion of each asset you hold, you solve a strongly convex problem given those two components and then you&rsquo;re done.</p><p>We define rational staking agents to be those that optimize their actions based on risk preferences and rewards.</p><h1 id=on-chain-lending>On-chain lending</h1><p>I won&rsquo;t go through the whole mechanism of how on-chain lending works and how they have stayed stable so far&mldr; Compound has about $250 million ,about 10% of BlockFi one of the main centralized lenders. From the perspective of a user, the way this works is that there&rsquo;s a smart contract, the contract has a pool of assets, people who lend to that pool can earn interest on every block, and people who borrow- they collateralize a loan by locking up some ethereum, taking out some stablecoin and paying it back over time, and if there&rsquo;s a default then the lending pool will socialize the risk.</p><p>How are interest rates computed? They are computed by what the cryptocurrency community calls &ldquo;bonding curves&rdquo; or what is known as market scoring rules. These rules take demand and supply, take deterministic functions of those- like how many tokens you want to borrow, how many people want to lend, and then compute an algorithmic interest rate. In Compound, they define a utilization rate. It&rsquo;s between 0 and 1 and then you can compute the interest rates from that.</p><h1 id=proof-of-stake-model>Proof-of-stake model</h1><p>A minimal viable proof-of-stake model&mldr;. you should always be thinking about these things in cryptocurrencies as sampling probability distributions, and you can think of each block update as sampling the stake distribution and then updating it. This resembles like how you construct &mldr; in learning.</p><p>We&rsquo;ll have a stake reward schedule, and the other is the validator stake distribution at some time. For each block, we sample a Bournilli random variable to say there&rsquo;s a static slashing probability to see if they slash, and then given the block rewards we update the validator distributions. But what assumptions did we make?</p><h1 id=assumptions>Assumptions</h1><p>Let&rsquo;s talk about why we have to make some assumptions. Modeling these complex systems with many components.. there&rsquo;s many agents, staking network, lending network. You have to make assumptions so you can reason about these things and have formal results. These assumptions will deviate from reality. If you can explicitly state everyone and where to use everyone similar to axiomization of block rewards, you can slowly relax them and then go to numerical methods for simulation.</p><p>We don&rsquo;t handle unbounded time, staking, delegation and block rewards&mldr; but with these assumptions, we get formal probability proofs, like phase transitions and a way of measuring volatilities, and you can relax each assumption slowly to get this to be more&mldr;</p><h1 id=goal-of-chosen-model-assumptions>Goal of chosen model assumptions</h1><p>We want to remove all sources of variance and noise from factors that aren&rsquo;t rebalancing related. There&rsquo;s synchronous communication, deterministic money supply, no transaction fees, no immediate compounding, and single validator per block. These descriptions of these conditions explain why they are all variance reducing assumptions. These two pictures are just two different proof-of-stake networks- one is the eth2 emission and the other is the settl emission and they sort of violate some of these.</p><p>We assume all pseudonymous identities are known to the validators, so we assume syncing. Agent&rsquo;s can&rsquo;t choose the order of their transactions so we&rsquo;re elimiiantgin gvariance due to mempool sniping/gas auctions. Agents draw their risk preference from a static random matrix ensemble: if there&rsquo;s an equilibrium, then the risk preference distribution should be stationary and otherwise we&rsquo;re not at equilibrium. The agents choose the risk their volatility is based on the expected epoch time and expected time of the loan, and we always assume there&rsquo;s a fraction delta of altruistic validators who are always staked. If there&rsquo;s not some fraction that is staked, then the lending transactions can&rsquo;t go through and the system isn&rsquo;t running.</p><h1 id=lending-assumptions>Lending assumptions</h1><p>And there&rsquo;s lending assumptions like no external market, which reduces variance. We also assume there&rsquo;s a constant relative demand relative to the money supply. A few others.</p><h1 id=formal-proofs>Formal proofs</h1><p>A review comment I got is don&rsquo;t drown the audience in any math. There&rsquo;s a famous paper where he tells mathematicians not to read it&mldr;. John Cardy&rsquo;s excellent SLE paper.</p><h1 id=key-results>Key results</h1><p>Lending supply volatility, uniformyl bounds staking outflows. The distributions are completely controlled by the lending fluctuations. There&rsquo;s a phase transition where the lent supply goes from stricly growing- it evnetually saturates or maximizes- or it oscillates between being lent and not-lent. We&rsquo;ll see some pictures of that to make it clear. Also, deflationary monetary policy provides poor staking returns and eventually everyone goes to staking.</p><h1 id=variables>Variables</h1><p>There&rsquo;s change in state, temporal parameters, the lending rate, and a fraction of altruistic state, and a number of other parameters.</p><h1 id=lending-supply-volatility-uniformly-bounds-stake-outflows>Lending supply volatility uniformly bounds stake outflows</h1><p>&mldr; the fluctuations in stake distribution are uniformly bounded by fluctuations in the lent distribution. The next thing is a phase transition that says there&rsquo;s a lending rate at which basically the lent rate below this value then eventually the total lent quantity goes to zero. There&rsquo;s an upper bound where if the lending rate is between those two parameters, then you basically never have the lent supply at zero. If the interest rate stays above a certain number, then the lent supply goes to the maximum saturated value.</p><p>If you have a deflationary monetary policy like bitcoin, then you are going to have rebalances that are greater than the altruistic amount staked with high probability. If you are polynomial or inflationary schedule then the rebalances will be negligble. There&rsquo;s some technical reasons for choosing this delta, but this gives you a kind of idea.</p><h1 id=simulation-results>Simulation results</h1><p>We modeled different demand distributions, we did Monte Carlo simulations over this. We use &ldquo;clamped&rdquo; geometric brownian motion. We reflect it at boundaries. This is why it&rsquo;s called clamped. You can model different properties of token distribution like saying some percent is locked at a certain time. You can also talk about margin when there&rsquo;s margin trading in the system the demand can go higher than the supply.</p><p>&mldr;.</p><p>With a phase transition, this is what happens when everything goes to the lent supply. On the right is conciliatory behavior.</p><h1 id=conclusions>Conclusions</h1><p>A monetary policy in proof-of-stake networks needs to account for on-chain lending. Capital can always be cannibalized by on-chain yield, and the decentralized nature of on-chain lending can&rsquo;t really be stopped unless there&rsquo;s admin keys like in bzx attack. We looked at constant demand and other demand distributions, that things match what the theory says.</p><p>PoS networks really look like central banks because they have to adjust their monetary policy based on lending activity which is exactly how repos and overnight lending works.</p><h1 id=future-work>Future work</h1><p>I&rsquo;d like to improve the simulation to reflect more realistic conditions ,add in more models for transaction fees showing there&rsquo;s burstyness you need, and to get it to account for this. Add in other forms of leverage. In the bzx attack, there were a lot of tokens involved. One question is that if you have a PoS asset in a wrapped token and a significant supply is wrapped, can someone execute an attack? Also, we should add in the effects from sharding which is probably complicated.</p><hr><p><i>Sponsorship</i>: These transcripts are <a href=https://twitter.com/ChristopherA/status/1228763593782394880>sponsored</a> by <a href=https://blockchaincommons.com/>Blockchain Commons</a>.</p><p><i>Disclaimer</i>: These are unpaid transcriptions, performed in real-time and in-person during the actual source presentation. Due to personal time constraints they are usually not reviewed against the source material once published. Errors are possible. If the original author/speaker or anyone else finds errors of substance, please email me at <a href=mailto:kanzure@gmail.com>kanzure@gmail.com</a> for corrections or contribute online via github/git. I sometimes add annotations to the transcription text. These will always be denoted by a standard editor&rsquo;s note in parenthesis brackets ((like this)), or in a numbered footnote. I welcome feedback and discussion of these as well.</p><p>Tweet: Transcript: &ldquo;Competitive equilibria between staking and on-chain lending&rdquo; <a href=https://diyhpl.us/wiki/transcripts/stanford-blockchain-conference/2020/competitive-equilibria-staking-lending/>https://diyhpl.us/wiki/transcripts/stanford-blockchain-conference/2020/competitive-equilibria-staking-lending/</a> @tarunchitra @CBRStanford #SBC20</p><div class=row></div></div></div></div><script src=https://btctranscripts.com/lib/jquery.min.js></script>
<script src=https://btctranscripts.com/lib/popper.min.js></script>
<script src=https://btctranscripts.com/js/bootstrap.min.js></script>
<script type=text/javascript src=/plugins/lunr.min.js></script>
<script type=text/javascript src=/plugins/auto-complete.js></script>
<link href=/plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://btctranscripts.com/"</script><script type=text/javascript src=/plugins/search.js></script>
<script type=text/javascript src=https://btctranscripts.com/js/custom.js></script>
<script type=text/javascript src=/plugins/clipboard.js></script>
<script>new ClipboardJS(".btn")</script></body></html>